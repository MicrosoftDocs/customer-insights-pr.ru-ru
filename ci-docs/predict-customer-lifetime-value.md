---
title: Прогноз ценности клиента на протяжении жизненного цикла (CLV)
description: Прогнозируйте потенциальный доход для активных клиентов в будущем.
ms.date: 09/30/2022
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: how-to
author: m-hartmann
ms.author: wameng
manager: shellyha
searchScope:
- ci-predictions
- ci-create-prediction
- ci-custom-models
- customerInsights
ms.openlocfilehash: f27462ac327027e50e23387ac9f75a671db9a86d
ms.sourcegitcommit: be341cb69329e507f527409ac4636c18742777d2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2022
ms.locfileid: "9610390"
---
# <a name="predict-customer-lifetime-value-clv"></a>Прогноз ценности клиента на протяжении жизненного цикла (CLV)

Прогнозируйте потенциальную ценность (доход), которую отдельные активные клиенты принесут вашему бизнесу в течение определенного периода времени в будущем. Этот прогноз помогает вам:

- Выявление ценных клиентов и обработка этой информации.
- Создавайте стратегические клиентские сегменты на основе их потенциальной ценности для проведения персонализированных кампаний с целевыми продажами, маркетингом и поддержкой.
- Направляйте разработку продукта, уделяя особое внимание функциям, повышающим ценность для клиентов.
- Оптимизация стратегии продаж или маркетинга и более точное распределение бюджета для охвата клиентов.
- Обнаруживайте и поощряйте ценных клиентов с помощью программ лояльности или вознаграждений.

Определите, что означает CLV для вашего бизнеса. Мы поддерживаем прогноз CLV на основе транзакций. Прогнозируемая ценность клиента основана на истории бизнес-транзакций. Рассмотрите возможность создания нескольких моделей с различными входными настройками и сравните результаты моделей, чтобы увидеть, какой сценарий модели лучше всего соответствует потребностям вашего бизнеса.

> [!TIP]
> Попробуйте прогноз CLV, используя пример данных: [Пример руководства прогноза ценности клиента на протяжении жизненного цикла (CLV)](sample-guide-predict-clv.md).

## <a name="prerequisites"></a>Предварительные условия

- По крайней мере [Разрешения участника](permissions.md)
- Не менее 100 уникальных клиентов, предпочтительно более 10 000 клиентов
- Идентификатор клиента, уникальный идентификатор для сопоставления транзакций с отдельным клиентом
- По крайней мере один год истории транзакций, желательно от двух до трех лет. Идеально не менее двух-трех транзакций на один идентификатор клиента, желательно за несколько дат. История транзакций должна включать:
  - **Идентификатор транзакции**: уникальный идентификатор каждой транзакции
  - **Дата транзакции**: дата или метка времени каждой транзакции
  - **Сумма транзакции**: денежное выражение (например, выручка или рентабельность продаж) каждой транзакции
  - **Метка, присвоенная возвратам**: логическое значение true/false, указывающее, является ли транзакция возвратом
  - **Идентификатор продукта**: идентификатор продукта, участвующего в транзакции
- Данные о действия клиента:
  - **Первичный ключ**: уникальный идентификатор действия
  - **Метка времени**: дата и время события определены первичным ключом
  - **Событие (название действия)**: название события, которое вы хотите использовать
  - **Подробности (сумма или значение)**: подробные сведения о действиях клиента
- Дополнительные данные, такие как:
  - Веб-действия: история посещений веб-сайтов или история электронной почты
  - Действия лояльности: история начисления и использования бонусных баллов за лояльность
  - Журнал обслуживания клиентов: обращение в службу поддержки, жалоба или история возврата
  - Сведения профиля клиента
- Менее 20% пропущенных значений в обязательных полях

> [!NOTE]
> Можно настроить только одну сущность истории транзакций. Если есть несколько сущностей покупки или транзакции, объедините их в Power Query до приема данных.

## <a name="create-a-customer-lifetime-value-prediction"></a>Создание прогноза ценности клиентов на протяжении жизненного цикла

Выберите **Сохранить черновик** в любое время, чтобы сохранить прогноз как черновик. Черновик прогноза отображается на вкладке **Мои прогнозы**.

1. Перейдите в **Аналитика** > **Прогнозы**.

1. На вкладке **Создать** выберите **Использовать модель** на плитке **Ценность клиента на протяжении жизненного цикла**.

1. Выберите **Начать**.

1. **Назовите эту модель** и присвойте **Имя сущности выходных данных**, чтобы отличить их от других моделей или сущностей.

1. Выберите **Далее**.

### <a name="define-model-preferences"></a>Задание параметров модели

1. Установить **Период времени прогноза**, чтобы определить, как далеко в будущем вы хотите прогнозировать CLV. По умолчанию единицей измерения являются месяцы.

   > [!TIP]
   > Чтобы точно предсказать CLV для установленного периода времени, требуется сопоставимый период исторических данных. Например, если вы хотите сделать прогноз CLV на следующие 12 месяцев, нужно располагать историческими данными как минимум за 18–24 месяца.

1. Установите интервал времени, в котором у клиента должна быть хотя бы одна транзакция, чтобы считаться активным. Модель прогнозирует CLV только для **активных клиентов**.
   - **Позвольте модели рассчитать интервал покупки (рекомендуется)**: модель анализирует ваши данные и определяет период времени на основе прошлых покупок.
   - **Задать интервал вручную**: период времени для вашего определения активного клиента.

1. Определите процентиль **Ценный клиент**.
    - **Расчет модели (рекомендуется)**: модель использует правило 80/20. Процент клиентов, которые обеспечили 80% совокупного дохода вашего бизнеса за исторический период, считаются ценными клиентами. Обычно менее 30–40% клиентов приносят 80% совокупного дохода. Однако это число может варьироваться в зависимости от вашего бизнеса и отрасли.
    - **Процент самых активных клиентов**: конкретный процентиль для ценного клиента. Например, введите **25**, чтобы определить ценных клиентов как первые 25% будущих платежеспособных клиентов.

    Если ваш бизнес по-другому определяет ценных клиентов, [дайте нам знать, нам это очень интересно](https://go.microsoft.com/fwlink/?linkid=2074172).

1. Выберите **Далее**.

### <a name="add-required-data"></a>Добавление необходимых данных

1. Выберите **Добавить данные** для **История транзакций клиентов**.

1. Выберите семантический тип действия **SalesOrder** или **SalesOrderLine**, который содержит историю транзакций. Если действие не было настроено, выберите **здесь** и создайте его.

1. В разделе **Действия**, если атрибуты действия были семантически сопоставлены при создании действия, выберите конкретные атрибуты или сущность, на которых вы хотите сосредоточиться при вычислении. Если семантического сопоставления не произошло, выберите **Изменить** и сопоставьте свои данные.
  
   :::image type="content" source="media/CLV-add-required.PNG" alt-text="Добавьте необходимые данные для модели CLV.":::

1. Выберите **Далее** и просмотрите атрибуты, необходимые для этой модели.

1. Выберите **Сохранить**.

1. Добавьте больше действий или выберите **Далее**.

### <a name="add-optional-activity-data"></a>Добавьте необязательные данные о деятельности

Данные, отражающие ключевые взаимодействия с клиентами (например, Интернет, обслуживание клиентов и журналы событий), добавляют контекст к записям транзакций. Дополнительные закономерности, обнаруженные в данных о вашей клиентской активности, могут повысить точность прогнозов.

1. Выберите **Добавить данные** в разделе **Повысьте ценность аналитических сведений модели благодаря дополнительным данным о действиях**.

1. Выберите тип действия, соответствующий типу добавляемого вами действия клиентов. Если действие не было настроено, выберите **здесь** и создайте его.

1. В разделе **Действия**, если атрибуты действия были сопоставлены при создании действия, выберите конкретные атрибуты или сущность, на которых вы хотите сосредоточиться при вычислении. Если сопоставления не произошло, выберите **Изменить** и сопоставьте свои данные.

1. Выберите **Далее** и просмотрите атрибуты, необходимые для этой модели.

1. Выберите **Сохранить**.

1. Выберите **Далее**.

1. [Добавьте необязательные данные клиента](#add-optional-customer-data) или выберите **Далее** и перейдите в раздел [Настройка расписания обновлений](#set-update-schedule).

### <a name="add-optional-customer-data"></a>Добавление необязательные данные клиента

Выберите из 18 часто используемых атрибутов профиля клиента, чтобы включить их в качестве входных данных в модель. Эти атрибуты могут привести к более персонализированным, релевантным и действенным результатам модели для ваших бизнес-сценариев.

Например: компания Contoso Coffee хочет спрогнозировать пожизненную ценность клиента, чтобы ориентироваться на ценных клиентов с помощью персонализированного предложения, связанного с запуском их новой кофемашины эспрессо. Компания Contoso использует модель CLV и добавляет все 18 атрибутов профилей клиентов, чтобы увидеть, какие факторы влияют на наиболее ценных клиентов. Они считают, что местоположение клиента является наиболее влиятельным фактором для этих клиентов.
Обладая такой информацией, они организуют местное мероприятие по запуску кофемашины эспрессо и сотрудничают с местными поставщиками для персонализированных предложений и особых впечатлений на мероприятии. Без этой информации компания Contoso, возможно, отправляла бы только стандартные маркетинговые сообщения электронной почты и упускала возможность персонализации для этого локального сегмента своих ценных клиентов.

1. Выберите **Добавить данные** в разделе **Используйте дополнительные данные клиентов, чтобы повысить ценность аналитических сведений модели**.

1. Для пункта **Сущность** выберите **Клиент: CustomerInsights**, чтобы выбрать единый профиль клиента, который сопоставляется с данными атрибутов клиента. Для **Идентификатор клиента** выберите **System.Customer.CustomerId**.

1. Сопоставьте дополнительные поля, если данные доступны в ваших унифицированных профилях клиентов.

   :::image type="content" source="media/clv-optional-customer-profile-mapping.png" alt-text="Пример сопоставленных полей для данных профиля клиента.":::

1. Выберите **Сохранить**.

1. Выберите **Далее**.

### <a name="set-update-schedule"></a>Настройка расписания обновлений

1. Выберите периодичность переобучения вашей модели на основе последних данных. Этот параметр важен для обновления точности прогнозов при приеме новых данных в Customer Insights. Большинство предприятий могут проходить повторного обучения один раз в месяц и получать точные прогнозы.

1. Выберите **Далее**.

### <a name="review-and-run-the-model-configuration"></a>Просмотрите и выполните конфигурацию модели

Шаг **Просмотреть и выполнить** показывает сводку конфигурации и дает возможность внести изменения перед созданием прогноза.

1. Выберите **Изменить** на любом из шагов для проверки и внесения любых изменений.

1. Если вы удовлетворены сделанным выбором, выберите **Сохранить и выполнить** для запуска модели. Нажмите кнопку **Готово**. Вкладка **Мои прогнозы** отображается во время создания прогноза. Процесс может занять несколько часов в зависимости от объема данных, используемых в прогнозе.

[!INCLUDE [progress-details](includes/progress-details-pane.md)]

## <a name="view-prediction-results"></a>Просмотр результатов прогноза

1. Перейдите в **Аналитика** > **Прогнозы**.

1. На вкладке **Мои прогнозы** выберите прогноз, который хотите просмотреть.

На странице результатов есть три основных раздела данных.

- **Эффективность обучения модели**: оценки A, B или C указывают на эффективность прогноза и могут помочь вам принять решение об использовании результатов, хранящихся в выходной сущности.
  
  :::image type="content" source="media/clv-model-score.png" alt-text="Изображение информационного поля оценки модели с оценкой A.":::

  Customer Insights оценивает эффективность модели ИИ в прогнозировании ценных клиентов по сравнению с базовой моделью.

  Оценки устанавливаются на основании следующих правил:
  - **A** — когда модель точно предсказала как минимум на 5% больше ценных клиентов по сравнению с базовой моделью.
  - **B** — когда модель точно предсказала 0–5% больше ценных клиентов по сравнению с базовой моделью.
  - **C** — когда модель точно предсказала меньше ценных клиентов по сравнению с базовой моделью.
  
  Выберите [**Подробнее об этой оценке**](#learn-about-the-score), чтобы открыть область **Рейтинг модели**, который показывает дополнительные сведения об эффективности модели ИИ и базовой модели. Это поможет вам лучше понять основные показатели эффективности модели и способ получения окончательной оценки эффективности модели. В базовой модели используется подход, не основанный на ИИ, для расчета ценности клиентов на протяжении жизненного цикла на основе, прежде всего, прошлых покупок, совершенных клиентами.

- **Ценность клиентов по процентилю**: на диаграмме отображаются малоценные и ценные клиенты. Наведите курсор на столбцы на гистограмме, чтобы увидеть количество клиентов в каждой группе и средний CLV для этой группы. Если требуется, [создайте сегменты клиентов](prediction-based-segment.md) на основе их прогнозов CLV.
  
   :::image type="content" source="media/CLV-value-percent.png" alt-text="Ценность клиентов по процентилям для модели CLV":::

- **Наиболее влиятельные факторы**: при создании прогноза CLV на основе входных данных, предоставленных моделью ИИ, учитываются различные факторы. Важность каждого из факторов рассчитывается для агрегированных прогнозов, создаваемых моделью. Используйте эти факторы, чтобы подтвердить свои результаты прогноза. Эти факторы также позволяют лучше понять наиболее важные факторы, которые повлияли на прогнозирование CLV для всех ваших клиентов.
  
   :::image type="content" source="media/CLV-influence-factors.png" alt-text="Факторы, оказывающие наибольшее влияние для модели CLV":::

### <a name="learn-about-the-score"></a>Узнайте об этой оценке

Стандартная формула, используемая для расчета CLV по базовой модели:

 _**CLV для каждого клиента** = Средняя ежемесячная покупка, совершенная клиентом в окне активного клиента * Количество месяцев в периоде прогноза CLV * Общий коэффициент удержания всех клиентов_

Модель ИИ сравнивается с базовой моделью на основе двух показателей эффективности модели.
  
- **Коэффициент успешных прогнозов ценных клиентов**

  Оцените разницу в прогнозировании ценных клиентов с помощью модели ИИ по сравнению с базовой моделью. Например, 84% успеха означает, что из всех ценных клиентов в данных обучения модель ИИ смогла точно охватить 84%. Затем мы сравниваем этот показатель успеха с показателем успеха базовой модели, чтобы сообщить об относительном изменении. Это значение используется для присвоения модели оценки.

- **Метрики с ошибками**

  См. общую эффективность модели с точки зрения ошибок при прогнозировании будущих значений. Мы используем метрику общей среднеквадратичной ошибки (RMSE) для оценки этой ошибки. RMSE — это стандартный способ измерения ошибки модели при прогнозировании количественных данных. RMSE модели ИИ сравнивается со RMSE базовой модели, и указывается относительная разница.

Модель ИИ отдает приоритет точному ранжированию клиентов в соответствии с их ценностью для вашего бизнеса. Таким образом, для получения окончательной оценки модели используется только показатель успешности прогнозирования ценных клиентов. Метрика RMSE чувствительна к выбросам. В сценариях, где у вас есть небольшой процент клиентов с чрезвычайно высокой стоимостью покупки, общая метрика RMSE может не дать полной картины эффективности модели.

[!INCLUDE [footer-include](includes/footer-banner.md)]
