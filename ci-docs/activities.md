---
title: Действия клиента
description: Определяйте действия клиентов и просматривайте их на временной шкале в профилях клиентов.
ms.date: 11/01/2021
ms.subservice: audience-insights
ms.reviewer: mhart
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
searchScope:
- ci-entities
- ci-customer-card
- ci-relationships
- ci-activities
- ci-activities-wizard
- ci-measures
- ci-segment-suggestions
- customerInsight
ms.openlocfilehash: 6c0a1bc5d9a42806b458142804199c733ff530ec
ms.sourcegitcommit: 4ae316c856b8de0f08a4605f73e75a8c2cf51c4e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/13/2022
ms.locfileid: "8755514"
---
# <a name="customer-activities"></a>Действия клиента

Объедините действия клиентов из [различных источников данных](data-sources.md) в Dynamics 365 Customer Insights. Создайте временную шкалу со списком действий в хронологическом порядке. Включите временную шкалу в приложения Dynamics 365 с решением [Надстройка карточек клиентов](customer-card-add-in.md).

## <a name="define-an-activity"></a>Определение действия

Источники данных могут включать сущности с данными транзакций и действий из нескольких источников данных. Определите эти сущности и выберите действия, которые вы хотите просматривать на временной шкале клиента. Выберите сущность, который включает ваше целевое действие или действия.

У сущности должен быть хотя бы один атрибут типа **Дата**, который будет включен во временную шкалу клиента, и вы не можете добавлять сущности без полей **Дата**. Элемент управления **Добавить действие** отключен, если такая сущность не найдена.

1. Перейдите в раздел **Данные** > **Действия**.

1. Выберите **Добавить действие**, чтобы начать процесс настройки действия.

1. На шаге **Данные действия** установите значения для следующих полей:

   - **Имя действия**: выберите название для вашего действия.
   - **Сущность**: выберите сущность, которая включает данные транзакций или действий.
   - **Первичный ключ**: выберите поле, которое однозначно идентифицирует запись. Оно не должно содержать никаких повторяющихся значений, пустых значений или отсутствующих значений.

   :::image type="content" source="media/Activity_Wizard1.PNG" alt-text="Настройка данных действий с именем, сущностью и первичным ключом.":::

1. Выберите **Далее**, чтобы перейти к следующему шагу.

1. На шаге **Отношение** настройте сведения, чтобы связать данные о вашем действии с соответствующей записью клиента. Этот шаг визуализирует связь между сущностями.  

   - **Первый**: внешнее поле в вашей сущности действия, которое будет использоваться для установления связи с другой сущностью.
   - **Второй**: соответствующая исходная сущность клиента, с которой будет иметь отношение ваша сущность действия. Вы можете устанавливать отношение только с исходными сущностями клиентов, которые используются в процессе унификации данных.
   - **Третий**: если отношение между этой сущностью действия и выбранной исходной сущностью клиента уже существует, имя отношения будет доступно только для чтения. Если такой связи не существует, будет создана новая связь с именем, указанным в этом поле.

   :::image type="content" source="media/Activity_Wizard2.PNG" alt-text="Определение отношения сущности.":::

   > [!TIP]
   > В средах B-to-B вы можете выбирать между сущностями организации и другими сущностями. Если вы выбираете сущность организации, автоматически устанавливается путь отношения. Для других сущностей вы должны определить путь отношения для одной или нескольких промежуточных сущностей, пока не достигнете сущности организации.

1. Выберите **Далее**, чтобы перейти к следующему шагу. 

1. На шаге **Объединение действий** выберите событие действия и время начала действия. 
   - **Обязательные поля**
      - **Действие события**: поле, которое является событием для этого действия.
      - **Метка времени**: поле, представляющее время начала вашего действия.

   - **Необязательные поля**
      - **Дополнительные сведения**: поле с соответствующей информацией для этого действия.
      - **Значок**: значок, который лучше всего представляет этот тип действия.
      - **Веб-адрес**: поле, содержащее URL-адрес с информацией об этом действии. Например, транзакционная система, которая является источником этого действия. Этот URL-адрес может быть любым полем из источника данных или может быть создан как новое поле с использованием трансформации Power Query. Данные URL-адреса будут храниться в сущности *Единое действие*, которая может потребляться ниже по потоку, используя [API-интерфейсы](apis.md).

   - **Показывать на временной шкале**
      - Выберите, хотите ли вы показывать это действие в представлении временной шкалы профилей клиентов. Выберите **Да**, чтобы показывать действие на временной шкале, или **Нет**, чтобы скрыть его.

      :::image type="content" source="media/Activity_Wizard3.PNG" alt-text="Укажите данные о действии клиентов в сущности единого действия.":::

1. Выберите **Далее** для перехода к следующему шагу. Вы можете выбрать **Завершить и проверить** для сохранения действия сейчас с типом действия, установленным на **Другое**. 

1. На шаге **Тип действия** выберите тип действия и, при необходимости, выберите, хотите ли вы семантически сопоставить некоторые типы действий для использования в других областях Customer Insights. В настоящее время типы действий *Отзывы*, *Лояльность*, *SalesOrder*, *SalesOrderLine* и *Подписка* поддерживают семантику после согласия на сопоставление полей. Если тип действия не соответствует новому действию, вы можете выбрать *Другое* или *Создать новый* для настраиваемого типа действия.

1. Выберите **Далее** для перехода к следующему шагу. 

1. На шаге **Проверка** проверьте свой выбор. Вернитесь к любому из предыдущих шагов и при необходимости обновите информацию.

   :::image type="content" source="media/Activity_Wizard5.PNG" alt-text="Проверка указанных полей для действия.":::
   
1. Выберите **Сохранить действие**, чтобы применить ваши изменения, и выберите **Готово**, чтобы вернуться в раздел **Данные** > **Действия**. Здесь вы видите, какие действия настроены для отображения на временной шкале. 

1. На странице **Действия** выберите **Выполнить** для обработки действия. 

[!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

## <a name="manage-existing-activities"></a>Управление существующими действиями

В разделе **Данные** > **Действия** вы можете просматривать все сохраненные действия и управлять ими. Каждое действие представлено строкой, которая также включает сведения об источнике, сущности и типе действия.

При выборе действия доступны следующие действия. 

- **Изменить**: открывает настройку действия на этапе проверки. На этом шаге вы можете изменить любую или всю текущую конфигурацию. После изменения конфигурации выберите **Сохранить действие**, затем выберите **Выполнить** для обработки изменений.

- **Переименовать**: открывает диалоговое окно, в котором вы можете ввести другое имя для выбранного действия. Нажмите кнопку **Сохранить**, чтобы применить изменения.

- **Удалить**: открывает диалоговое окно для подтверждения удаления выбранного действия. Вы также можете удалить сразу несколько действий, выбрав их, затем щелкнув значок удаления. Выберите **Удалить** для подтверждения удаления.

## <a name="view-activity-timelines-on-customer-profiles"></a>Просмотр графика действия в профилях клиентов

После настройки действий клиентов выберите **Показать на временной шкале действия** в конфигурации действия, чтобы найти все действия вашего клиента в его профиле клиента.

Чтобы открыть временную шкалу для клиента, перейдите в **Клиенты** и выберите профиль клиента, который хотите просмотреть.

Если клиент участвовал в настроенном действии, вы найдете его в разделе **Временная шкала действия**.

:::image type="content" source="media/Activity_Timeline1.PNG" alt-text="Просмотр настроенных действий в профилях клиентов.":::

Есть несколько способов отфильтровать действия на временной шкале действия:

- Вы можете выбрать один или несколько значков действий, чтобы уточнить результаты и включить только выбранные типы.

  :::image type="content" source="media/Activity_Timeline2.PNG" alt-text="Отфильтруйте действия по типу с помощью значков.":::

- Вы можете выбрать **Фильтр**, чтобы открыть панель фильтров для настройки фильтров временной шкалы.

   1. Вы можете фильтровать по *ActivityType* и *Date*
   1. Выберите **Применить**, чтобы использовать фильтры на временной шкале действия.

   :::image type="content" source="media/Activity_Timeline3.PNG" alt-text="Используйте панель фильтров для настройки условий фильтрации.":::

Чтобы удалить фильтры, выберите **x** рядом с каждым фильтром, примененным к временной шкале, или выберите **Очистить фильтры**.


> [!NOTE]
> Фильтры действия удаляются, когда вы покидаете профиль клиента. Вы должны применять их каждый раз, когда открываете профиль клиента.

[!INCLUDE [footer-include](includes/footer-banner.md)]
