---
title: Действия клиентов или деловых контактов
description: Определяйте действия клиентов или деловых контактов и просматривайте их на временной шкале в профилях клиентов.
ms.date: 08/12/2022
ms.subservice: audience-insights
ms.reviewer: v-wendysmith
ms.topic: conceptual
author: CadeSanthaMSFT
ms.author: cadesantha
manager: shellyha
searchScope:
- ci-entities
- ci-customer-card
- ci-relationships
- ci-activities
- ci-activities-wizard
- ci-measures
- ci-segment-suggestions
- customerInsights
ms.openlocfilehash: bbb8bc30d079273bc935181c628915bb3c02d982
ms.sourcegitcommit: 267c317e10166146c9ac2c30560c479c9a005845
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/16/2022
ms.locfileid: "9304121"
---
# <a name="customer-or-business-contact-activities"></a>Действия клиентов или деловых контактов

Действия клиентов — это действия или события, выполняемые клиентами или деловыми контактами. Примерами являются транзакции, продолжительность обращения в службу поддержки, отзывы веб-сайтов, покупки или возвраты. Эти действия содержатся в одном или нескольких источниках данных. С помощью Customers Insights объедините действия клиентов из этих [источники данных](data-sources.md) и свяжите их с профилями клиентов. Эти действия отображаются в хронологическом порядке на временной шкале в профиле клиента. Включите временную шкалу в приложения Dynamics 365 с решением [Надстройка карточек клиентов](customer-card-add-in.md).

## <a name="define-a-customer-activity"></a>Определение действия клиента

У сущности должен быть хотя бы один атрибут типа **Дата**, который будет включен во временную шкалу клиента. Элемент управления **Добавить действие** отключен, если такая сущность не найдена.

1. Перейдите в раздел **Данные** > **Действия**.

1. Выберите **Добавить действие**, чтобы начать процесс настройки.

1. В шаге **данные о деятельности** введите следующие сведения:

   - **Имя действия**: выберите название для вашего действия.
   - **Сущность действия**: выберите сущность, которая включает данные транзакций или действий.
   - **Первичный ключ**: выберите поле, которое однозначно идентифицирует запись. Оно не должно содержать никаких повторяющихся значений, пустых значений или отсутствующих значений.

   :::image type="content" source="media/Activity_Wizard1.PNG" alt-text="Настройка данных действий с именем, сущностью и первичным ключом.":::

1. Выберите **Далее**.

1. На шаге **Связь** выберите **Добавить связь**, чтобы связать данные о вашем действии с соответствующей записью клиента. Этот шаг визуализирует связь между сущностями.  

   - **Внешний ключ**: внешнее поле в вашей сущности действия, которое будет использоваться для установления связи с другой сущностью.
   - **В имя сущности**: соответствующая исходная сущность клиента, с которой будет иметь связь ваша сущность действия. Вы можете устанавливать отношение только с исходными сущностями клиентов, которые используются в процессе унификации данных.
   - **Имя отношения**: если связь между этой сущностью действия и выбранной исходной сущностью клиента уже существует, имя отношения будет находиться в режиме только для чтения. Если такой связи не существует, будет создана новая связь с именем, указанным в этом поле.

   :::image type="content" source="media/Activity_Wizard2.PNG" alt-text="Определение отношения сущности.":::

   > [!TIP]
   > В средах B-to-B вы можете выбирать между сущностями организации и другими сущностями. Если вы выбираете сущность организации, автоматически устанавливается путь отношения. Для других сущностей вы должны определить путь отношения для одной или нескольких промежуточных сущностей, пока не достигнете сущности организации.

1. Нажмите кнопку **Применить**, чтобы создать связь.

1. Выберите **Далее**.

1. На шаге **Объединение действий** выберите событие действия и время начала действия.
   - **Обязательные поля**
      - **Действие события**: поле, которое является событием для этого действия.
      - **Метка времени**: поле, представляющее время начала вашего действия.

   - **Необязательные поля**
      - **Дополнительные сведения**: поле с соответствующей информацией для этого действия.
      - **Значок**: значок, который лучше всего представляет этот тип действия.
      - **Веб-адрес**: поле, содержащее URL-адрес с информацией об этом действии. Например, транзакционная система, которая является источником этого действия. Этот URL-адрес может быть любым полем из источника данных или может быть создан как новое поле с использованием трансформации Power Query. Данные URL-адреса будут храниться в сущности *Единое действие*, которая может потребляться ниже по потоку, используя [API-интерфейсы](apis.md).

   - **Показывать на временной шкале**
      - Выберите, хотите ли вы показывать это действие в представлении временной шкалы профилей клиентов. Выберите **Да**, чтобы показывать действие на временной шкале, или **Нет**, чтобы скрыть его.

      :::image type="content" source="media/Activity_Wizard3.PNG" alt-text="Укажите данные о действии клиентов в сущности единого действия.":::

1. Выберите **Далее**, чтобы выбрать тип действия или выберите **Завершить и проверить** для сохранения действия с типом действия, установленным на **Другое**.

1. На шаге **Тип действия** выберите тип действия и, при необходимости, выберите, хотите ли вы семантически сопоставить некоторые типы действий для использования в других областях Customer Insights. В настоящее время типы действий *Отзывы*, *Лояльность*, *SalesOrder*, *SalesOrderLine* и *Подписка* поддерживают семантику после согласия на сопоставление полей. Если тип действия не соответствует новому действию, вы можете выбрать *Другое* или *Создать новый* для настраиваемого типа действия.

1. Выберите **Далее**.

1. На шаге **Проверка** проверьте свой выбор. Вернитесь к любому из предыдущих шагов и при необходимости обновите информацию.

1. Выберите **Сохранить действие**, чтобы применить ваши изменения, и выберите **Готово**, чтобы вернуться в раздел **Данные** > **Действия**. Отобразится созданное действие.

1. После создания всех действий выберите **Запустить**, чтобы их обработать.

[!INCLUDE [progress-details-include](includes/progress-details-pane.md)]

## <a name="manage-existing-customer-activities"></a>Управление существующими действиями клиентов

Перейти к **Данные** > **Действия** для просмотра сохраненных действий, их исходной сущности, типа действия и того, включены ли они в временную шкалу клиента. Вы можете отсортировать список действий по любому столбцу или использовать поле поиска, чтобы найти действие, которым вы хотите управлять.

Выберите действие, чтобы просмотреть доступные действия.

- **Изменить** действие, чтобы изменить его конфигурацию. Конфигурация открывается на этапе проверки. После изменения конфигурации выберите **Сохранить действие**, затем выберите **Выполнить** для обработки изменений.
- **Переименовать** действие. Нажмите кнопку **Сохранить**, чтобы применить изменения.
- **Удалить** действие. Чтобы удалить сразу несколько действий, выберите действия и затем **Удалить**. Подтвердите удаление.

## <a name="view-activity-timelines-on-customer-profiles"></a>Просмотр графика действия в профилях клиентов

1. Если вы выбрали **Показать на временной шкале действия** в конфигурации действия, перейдите к **Клиенты** и выберите профиль клиента, чтобы просмотреть действия клиента в разделе **Временная шкала действий**.

   :::image type="content" source="media/Activity_Timeline1.PNG" alt-text="Просмотр настроенных действий в профилях клиентов.":::

1. Чтобы фильтровать действия на временной шкале действия:

   - Выберите один или несколько значков действий, чтобы уточнить результаты и включить только выбранные типы.

     :::image type="content" source="media/Activity_Timeline2.PNG" alt-text="Отфильтруйте действия по типу с помощью значков.":::

   - Выберите **Фильтр**, чтобы открыть панель фильтров для настройки фильтров временной шкалы. Отфильтруйте по *ActivityType* и/или *Date*. Выберите **Применить**.

     :::image type="content" source="media/Activity_Timeline3.PNG" alt-text="Используйте панель фильтров для настройки условий фильтрации.":::

> [!NOTE]
> Фильтры действия удаляются, когда вы покидаете профиль клиента. Вы должны применять их каждый раз, когда открываете профиль клиента.

## <a name="define-a-contact-activity"></a>Определение действия контакта

Для бизнес-аккаунтов (бизнес-бизнес) используйте сущность *ContactProfile* для фиксации действий контактов. Вы можете видеть на временной шкале активности для организации, кто из контактов отвечает за каждое действие. Большинство шагов соответствуют настройке сопоставления действий клиентов.

   > [!NOTE]
   > Чтобы определить действие на уровне контакта должна быть создана сущность *ContactProfile* либо как [единый профиль контактов](data-unification-contacts.md), либо через [семантическое сопоставление](semantic-mappings.md#define-a-contactprofile-semantic-entity-mapping).
   >
   > В каждой записи данных о действиях должны присутствовать атрибуты **AccountID** и **ContactID**.
  
1. Перейдите в раздел **Данные** > **Действия**.

1. Выберите **Добавить действие**.

1. Дайте действию имя, выберите исходную сущность действий и выберите первичный ключ сущности действий.

1. На шаге **Связи** создайте косвенную свять между исходными данными о действиях и организациями, используя данные контактов в качестве промежуточной сущности. Дополнительные сведениям см. в статье о [путях прямых и косвенных связей](relationships.md#relationship-paths).
   - Пример связи для действия под названием *Покупки*:
      - **Исходные данные о действиях "Покупки"** > **Данные контактов** по атрибуту **ContactID**
      - **Данные контактов** > **Данные организаций** по атрибуту **AccountID**

   :::image type="content" source="media/Contact_Activities1.png" alt-text="Пример настройки связей.":::

1. После настройки связи или связей выберите **Даее** и завершите настройку сопоставления действий. Подробные инструкции по созданию действий см. в разделе [Определение действия клиента](#define-a-customer-activity).

1. Запустите сопоставления действий.

1. Действия на уровне контактов теперь будут отображаться на временной шкале ваших клиентов.

   :::image type="content" source="media/Contact_Activities2.png" alt-text="Конечный результат после настройки действий контактов":::

## <a name="contact-level-activity-timeline-filtering"></a>Фильтрация действий на временной шкале на уровне контакта

После настройки сопоставления действий на уровне контактов и ее запуска временная шкала активности для ваших клиентов будет обновлена. На ней будут показаны их идентификаторы или имена, в зависимости т конфигурации *ContactProfile*, для действий, которые они предпринимали. Вы можете фильтровать действия на временной шкале по контактам для просмотра конкретных контактов, которые вам интересны. Кроме того, вы можете просмотреть все действия, которые не назначены ни одному конкретному контакту, выбрав **Действия не сопоставлены с контактом**.

   :::image type="content" source="media/Contact_Activities3.png" alt-text="Параметры фильтрации, доступные для действий на уровне контактов.":::

[!INCLUDE [footer-include](includes/footer-banner.md)]
