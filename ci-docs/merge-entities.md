---
title: Унификация полей клиентов для объединения данных
description: Объедините сущности для создания унифицированных профилей клиентов.
recommendations: false
ms.date: 05/04/2022
ms.subservice: audience-insights
ms.topic: tutorial
author: v-wendysmith
ms.author: mukeshpo
ms.reviewer: v-wendysmith
manager: shellyha
searchScope:
- ci-merge
- ci-match
- ci-relationships
- customerInsights
ms.openlocfilehash: ceb2724ad490c1ba44fd9b7ff2be04721892fca4
ms.sourcegitcommit: dca46afb9e23ba87a0ff59a1776c1d139e209a32
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/29/2022
ms.locfileid: "9081627"
---
# <a name="unify-customer-fields-for-data-unification"></a>Унификация полей клиентов для объединения данных

[!INCLUDE [m3-prod-trial-note](includes/m3-prod-trial-note.md)]

На этом шаге процесса объединения выберите и исключите атрибуты для объединения в едином объекте профиля. Например, если у трех сущностей есть данные электронной почты, можно сохранить все три отдельных поля электронной почты или объединить их в одно поле электронной почты для единого профиля. Некоторые атрибуты автоматически объединяются системой. Можно создавать стабильные и уникальные идентификаторы клиентов и группировать связанные профили в кластер.

:::image type="content" source="media/m3_unify.png" alt-text="Страница объединения в процессе унификации данных с таблицей с объединенными полями, которые определяют единый профиль клиента.":::

## <a name="review-and-update-the-customer-fields"></a>Просмотр и обновление полей клиента

1. Просмотрите список полей, которые будут объединены на вкладке таблицы **Поля клиентов**. Внесите любые изменения, если необходимо.

   1. Для любых объединенных полей можно выполнять следующее:
      - [Изменение](#edit-a-merged-field)
      - [Переименовать](#rename-fields)
      - [Разделить](#separate-merged-fields)
      - [Исключить](#exclude-fields)
      - [Перемещение вверх или вниз](#change-the-order-of-fields)

   1. Для любых отдельных полей можно выполнять следующее:
      - [Объединить поля](#combine-fields-manually)
      - [Объединение группы полей](#combine-a-group-of-fields)
      - [Переименовать](#rename-fields)
      - [Исключить](#exclude-fields)
      - [Перемещение вверх или вниз](#change-the-order-of-fields)

1. Также можно [создать конфигурацию идентификатора клиента](#configure-customer-id-generation).

1. Также можно [группировать профили в домохозяйства или кластеры](#group-profiles-into-households-or-clusters)

> [!div class="nextstepaction"]
> [Следующий шаг: просмотр объединения](review-unification.md)

### <a name="edit-a-merged-field"></a>Изменение объединенного поля

1. Выберите объединенное поле и нажмите **Изменить**. Отобразится область "Объединить поля".

1. Укажите, как объединить или слить поля, выбрав один из трех вариантов:
    - **Важность**: определяет значение победителя на основе ранга важности, указанного для участвующих полей. Это параметр объединения по умолчанию. Выберите **Вверх/вниз**, чтобы установить рейтинг важности.

      :::image type="content" source="media/importance-merge-option.png" alt-text="Параметр важности в диалоговом окне слияния полей.":::

    - **Самый последний**: определяет значение победителя на основе самой последней даты. Требуется дата или числовое поле для каждой участвующей сущности в области полей слияния для определения давности.

      :::image type="content" source="media/recency-merge-option.png" alt-text="Параметр давности в диалоговом окне слияния полей.":::

    - **Самый давний**: определяет значение победителя на основе самой давней даты. Требуется дата или числовое поле для каждой участвующей сущности в области полей слияния для определения давности.

1. Вы можете добавить больше полей для участия в процессе слияния.

1. Вы можете переименовать объединенное поле.

1. Выберите **Готово**, чтобы применить изменения.

### <a name="rename-fields"></a>Переименование полей

Измените отображаемое имя объединенных или отдельных полей. Вы не можете изменить имя сущности выходных данных.

1. Выберите поле и нажмите **Переименовать**.

1. Введите новое отображаемое имя.

1. Нажмите кнопку **Готово**.

### <a name="separate-merged-fields"></a>Разделение объединенных полей

Чтобы разделить объединенные поля, найдите атрибут в таблице. Разделенные поля отображаются как отдельные точки данных в едином профиле клиента.

1. Выберите объединенное поле и нажмите **Отдельные поля**.

1. Подтвердите разделение.

### <a name="exclude-fields"></a>Исключение полей

Исключите объединенное или отдельное поле из единого профиля клиента. Если поле используется в других процессах, например в сегменте, удалите его из этих процессов, прежде чем исключать его из профиля клиента.

1. Выберите поле и нажмите **Исключить**.

1. Подтвердите исключение.

Чтобы просмотреть список всех исключенных полей, нажмите **Исключенные поля**. При необходимости можно повторно добавить исключенное поле.

### <a name="change-the-order-of-fields"></a>Изменение порядка полей

Некоторые сущности содержат больше деталей, чем другие. Если сущность включает последние данные о поле, вы можете установить приоритет перед другими сущностями при объединении значений.

1. Выберите поле.
  
1. Выберите **Переместить вверх/вниз**, чтобы установить порядок или перетащите их в нужное место.

### <a name="combine-fields-manually"></a>Объединение полей вручную

Объедините разделенные поля, чтобы создать объединенный атрибут.

1. Выберите **Объединить** > **Поля**. Отобразится область "Объединить поля".

1. Укажите политику победителя слияния в раскрывающемся списке **Объединить поля по**.

1. Выберите **Добавить поле**, чтобы объединить больше полей

1. Укажите **Имя** и **Имя поля выходных данных**.

1. Выберите **Готово**, чтобы применить изменения.

### <a name="combine-a-group-of-fields"></a>Объединение группы полей

Рассматривайте группу полей как единое целое. Например, если наши записи содержат поля «Адрес1», «Адрес2», «Город», «Штат» и «Почтовый индекс», мы не хотим объединять «Адрес2» другой записи, думая, что это сделает наши данные более полными.

1. Выберите **Объединить** > **Группа полей**.

1. Укажите политику победителя слияния в раскрывающемся списке **Ранжирование групп по**.

1. Выберите **Добавить** и выберите, хотите ли вы добавить дополнительные поля или группы к полям.

1. Укажите **Имя** и **Выходное имя** для каждого объединенного поля.

1. Укажите **Имя** для группы полей.

1. Выберите **Готово**, чтобы применить изменения.

## <a name="configure-customer-id-generation"></a>Настройка создания ИД клиента

Определите, как создавать значения идентификатора клиента, т. е. уникальные идентификаторы профиля клиента. На этапе объединения полей в процессе объединения данных создается уникальный идентификатор профиля клиента. Идентификатор — это *CustomerId* в сущности *Клиент*, возникающий в результате процесса объединения данных.

*CustomerId*  основан на хэше первого значения ненулевых первичных ключей победителя. Эти ключи исходят от сущностей, используемых при объединении данных, и на них влияет порядок сопоставления.Таким образом, созданный идентификатор клиента может измениться при изменении значения первичного ключа в основной сущности порядка сопоставления. Значение первичного ключа не всегда может представлять одного и того же клиента.

Настройка постоянного идентификатора клиента позволяет избежать такого поведения.

1. Перейдите на вкладку **Ключи**.

1. Наведите курсор на строку **CustomerId** и выберите **Настроить**.
   :::image type="content" source="media/customize-stable-id.png" alt-text="Элемент управления для настройки создания идентификатора.":::

1. Выберите до пяти полей, которые будут составлять уникальный идентификатор клиента и являются более стабильными. Записи, которые не соответствуют вашей конфигурации, используют вместо этого идентификатор, настроенный системой.  

1. Нажмите кнопку **Готово**.

## <a name="group-profiles-into-households-or-clusters"></a>Сгруппируйте профили в домохозяйства или кластеры

Можно определить правила для группировки связанных профилей в кластер. В настоящее время доступны два типа кластеров — домохозяйства и пользовательские кластеры. Система автоматически выбирает домохозяйство с заранее определенными правилами, если сущность *Клиент* содержит семантические поля *Person.LastName* и *Location.Address*. Вы также можете создать кластер со своими правилами и условиями, аналогично [правилам сопоставления](match-entities.md#define-rules-for-match-pairs).

1. Выберите **Расширенные** > **Создать кластер**.

   :::image type="content" source="media/create-cluster.png" alt-text="Элемент управления для создания нового кластера.":::

1. Выберите кластер **Домохозяйство** или **Настраиваемый**. Если семантические поля *Person.LastName* и *Location.Address* существуют в сущности *Клиент*, домохозяйство выбирается автоматически.

1. Введите имя кластера и выберите **Готово**.

1. Выберите вкладку **Кластеры**, чтобы найти созданный вами кластер.

1. Укажите правила и условия для определения вашего кластера.

1. Нажмите кнопку **Готово**. Кластер создается после завершения процесса объединения. Идентификаторы кластера добавляются как новые поля в сущность *Клиент*.

> [!div class="nextstepaction"]
> [Следующий шаг: просмотр объединения](review-unification.md)

[!INCLUDE [footer-include](includes/footer-banner.md)]
