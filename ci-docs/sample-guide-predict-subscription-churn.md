---
title: Пример руководства по прогнозу оттока подписок
description: Используйте этот пример руководства, чтобы попробовать готовую модель прогноза оттока подписок.
ms.date: 09/19/2022
ms.reviewer: v-wendysmith
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: wameng
manager: shellyha
searchScope:
- ci-create-prediction
- customerInsights
ms.openlocfilehash: 7e754be9a2cb9450949c6b3667bbd37aa39cf0bf
ms.sourcegitcommit: be341cb69329e507f527409ac4636c18742777d2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 09/30/2022
ms.locfileid: "9610022"
---
# <a name="subscription-churn-prediction-sample-guide"></a>Пример руководства по прогнозу оттока подписок

В этом руководстве показан комплексный пример прогноза оттока подписок с использованием примера данных. Мы рекомендуем вам попробовать этот прогноз [в новой среде](manage-environments.md).

## <a name="scenario"></a>Сценарий

Contoso — компания, производящая высококачественный кофе и кофемашины. Они продают продукты через свой веб-сайт Contoso Coffee. Недавно они открыли бизнес по подписке, чтобы клиенты могли получать кофе на регулярной основе. Их цель — понять, какие клиенты с подпиской могут отменить свою подписку в ближайшие несколько месяцев. Зная, кто из их клиентов **вероятно уйдет**, они могут сэкономить на маркетинговых усилиях, сосредоточив внимание на их удержании как клиентов.

## <a name="prerequisites"></a>Предварительные условия

- По крайней мере [разрешения участника](permissions.md) в Customer Insights.

## <a name="task-1---ingest-data"></a>Задача 1. Прием данных

Обзор статей [о приеме данных](data-sources.md) и [подключении к источнику данных Power Query](connect-power-query.md). Следующая информация предполагает, что вы в целом знакомы с приемом данных.

### <a name="ingest-customer-data-from-ecommerce-platform"></a>Получение данных о клиентах с платформы eCommerce

1. Создайте источник данных Power Query с именем **eCommerce** и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для контактов eCommerce https://aka.ms/ciadclasscontacts.

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **DateOfBirth**: дата
   - **CreatedOn**: дата/время/часовой пояс

   :::image type="content" source="media/ecommerce-dob-date.PNG" alt-text="Преобразовать дату рождения в дату.":::

1. В поле **Имя** на правой панели переименуйте свой источник данных на **eCommerceContacts**

1. Сохраните источник данных.

### <a name="ingest-customer-data-from-loyalty-schema"></a>Получение данных о клиентах из схемы лояльности

1. Создайте источник данных с именем **LoyaltyScheme** и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для постоянных клиентов https://aka.ms/ciadclasscustomerloyalty.

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **DateOfBirth**: дата
   - **RewardsPoints**: целое число
   - **CreatedOn**: дата/время

1. В поле **Имя** на правой панели переименуйте свой источник данных на **loyCustomers**.

1. Сохраните источник данных.

### <a name="ingest-subscription-information"></a>Прием информации о подписке

1. Создайте источник данных с именем **SubscriptionHistory** и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для подписок https://aka.ms/ciadchurnsubscriptionhistory.

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **SubscriptioID**: целое число
   - **SubscriptionAmount**: валюта
   - **SubscriptionEndDate**: дата/время
   - **SubscriptionStartDate**: дата/время
   - **TransactionDate**: дата/время
   - **IsRecurring**: True/False
   - **Is_auto_renew**: True/False
   - **RecurringFrequencyInMonths**: целое число

1. В поле **Имя** на правой панели переименуйте свой источник данных в **SubscriptionHistory**.

1. Сохраните источник данных.

### <a name="ingest-customer-data-from-website-reviews"></a>Получение данных о клиентах из отзывов веб-сайтов

1. Создайте источник данных с именем **Website** и выберите соединитель **Текст/CSV**.

1. Ввод URL-адрес для обзоров веб-сайта https://aka.ms/ciadclasswebsite.

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **ReviewRating**: целое число
   - **ReviewDate**: дата

1. В поле **Имя** на правой панели переименуйте свой источник данных в **webReviews**.

## <a name="task-2---data-unification"></a>Задача 2. Унификация данных

Просмотрите статью [об объединении данных](data-unification.md). Следующая информация предполагает, что вы в целом знакомы с унификацией данных.

[!INCLUDE [sample-guide-unification](includes/sample-guide-unification.md)]

## <a name="task-3---create-transaction-history-activity"></a>Задача 3. Создание действия истории транзакции

Ознакомьтесь со статьей [о действиях клиентов](activities.md). Следующая информация предполагает, что вы в целом знакомы с созданием действий.

1. Создайте действие под названием **SubscriptionHistory** с сущностью *Subscription* и его первичный ключ, **CustomerId**.

1. Создайте отношение между *SubscriptionHistory:Subscription* и *eCommerceContacts:eCommerce* с **CustomerID** в качестве внешнего ключа для соединения двух сущностей.

1. Выберите **SubscriptionType** для **EventActivity** и **SubscriptionEndDate** для **TimeStamp**.

1. Выберите **Подписка** для **Тип действия** и семантически сопоставьте данные действия.

1. Выполните действие.

1. Добавьте другое действие и сопоставьте имена ее полей с соответствующими полями:
   - Сущность действий клиентов: Reviews:Website
   - Первичный ключ: Website.Reviews.ReviewId
   - Отметка времени: Website.Reviews.ReviewDate
   - Событие (название действия): Website.Reviews.ActivityTypeDisplay
   - Сведения (сумма или значение): Website.Reviews.ReviewRating

1. Выполните действие.

## <a name="task-4---configure-the-subscription-churn-prediction"></a>Задача 4. Настройте прогноз оттока подписок

С заданными унифицированными профилями клиентов и созданным действием запустите прогноз оттока подписок. Подробные инструкции см. в разделе [Прогноз оттока подписок](predict-subscription-churn.md).

1. Перейдите в **Аналитика** > **Прогнозы**.

1. На вкладке **Создать** выберите **Использовать модель** на плитке **Модель оттока клиентов**.

1. Выберите **Подписка** для типа оттока, затем **Начать**.

1. Назовите модель **OOB Subscription Churn Prediction** и выходную сущность **OOBSubscriptionChurnPrediction**.

1. Задание параметров модели:
   - **Дней с момента окончания подписки**: **60** дней, чтобы указать, что клиент считается ушедшим, если он не продлит подписку в течение этого периода после окончания подписки.
   - **На сколько дней в будущем прогнозировать отток**: **93** дня, в течение которых модель прогнозирует, какие клиенты могут уйти. Чем дальше в будущее, тем менее точны результаты.

   :::image type="content" source="media/model-subs-levers.PNG" alt-text="Выберите предпочтения модели и определение оттока.":::

1. Выберите **Далее**.

1. На шаге **Необходимые данные** выберите **Добавить данные** для предоставления истории подписок.

1. Выберите **Подписка** и сущность SubscriptionHistory и выберите **Далее**. Необходимые данные автоматически заполняются из действия. Выберите **Сохранить**.

1. В разделе действий клиента выберите **Добавить данные**.

1. В этом примере добавьте действие веб-обзора.

1. Выберите **Далее**.

1. На шаге **Обновление данных** выберите **Ежемесячно** для расписания модели.

1. Изучив все сведения, выберите **Сохранить и выполнить**.

## <a name="task-5---review-model-results-and-explanations"></a>Задача 5. Обзор результатов модели и объяснения

Дайте модели завершить обучение и оценку данных. Проверьте пояснения к модели оттока подписок. Для получения дополнительной информации см. раздел [Просмотр результатов прогноза](predict-subscription-churn.md#view-prediction-results).

## <a name="task-6---create-a-segment-of-high-churn-risk-customers"></a>Задача 6. Создайте сегмент клиентов с высоким риском оттока

Запуск модели создает новую сущность, которая указана в **Данные** > **Сущности**. Вы можете создать новый сегмент на основе сущности, созданной моделью.

1. На странице результатов выберите **Создать сегмент**.

1. Создайте правило с помощью сущности **OOBSubscriptionChurnPrediction** и определите сегмент:
   - **Поле**: ChurnScore
   - **Оператор**: больше
   - **Значение**: 0,6

1. Выберите для сегмента **Сохранить** и **Выполнить**.

Теперь у вас есть динамически обновляемый сегмент, который определяет клиентов с высоким риском оттока для этого бизнеса по подписке. Дополнительные сведения см. в разделе [Создание сегментов и управление ими](segments.md).

> [!TIP]
> Вы также можете создать сегмент для модели прогноз со страницы **Сегменты**, выбрав **Создать** и выбрав **Создать из** > **Аналитика**. Дополнительные сведения о см. в разделе [Создание нового сегмента с помощью быстрых сегментов](segment-quick.md).

[!INCLUDE [footer-include](includes/footer-banner.md)]
