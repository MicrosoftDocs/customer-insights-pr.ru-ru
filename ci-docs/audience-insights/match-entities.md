---
title: Соответствие сущностей для унификации данных
description: Найдите совпадения сущностей для создания унифицированных профилей клиентов.
ms.date: 02/23/2021
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
ms.openlocfilehash: 2155042d86cda0cffee1588760a06d6c7eb7077e
ms.sourcegitcommit: fcc94f55dc2dce84eae188d582801dc47696c9cc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/20/2021
ms.locfileid: "6085638"
---
# <a name="match-entities"></a><span data-ttu-id="9240f-103">Поиск совпадений сущностей</span><span class="sxs-lookup"><span data-stu-id="9240f-103">Match entities</span></span>

<span data-ttu-id="9240f-104">На этапе соответствия указывается, как объединить наборы данных в единый набор данных профиля клиента.</span><span class="sxs-lookup"><span data-stu-id="9240f-104">The match phase specifies how to combine your datasets into a unified customer profile dataset.</span></span> <span data-ttu-id="9240f-105">После завершения [этапа сопоставления](map-entities.md) в процессе объединения данных вы можете сопоставить свои сущности.</span><span class="sxs-lookup"><span data-stu-id="9240f-105">After completing the [map step](map-entities.md) in the data unification process, you're ready to match your entities.</span></span> <span data-ttu-id="9240f-106">Фаза соответствия требует по крайней мере двух сопоставленных сущностей.</span><span class="sxs-lookup"><span data-stu-id="9240f-106">The match phase requires at least two mapped entities.</span></span>

<span data-ttu-id="9240f-107">Страница сопоставления состоит из трех разделов:</span><span class="sxs-lookup"><span data-stu-id="9240f-107">The match page consists of three sections:</span></span> 
- <span data-ttu-id="9240f-108">Ключевые метрики, определяющие количество сопоставленных записей</span><span class="sxs-lookup"><span data-stu-id="9240f-108">Key metrics that summarize the number of matched records</span></span>
- <span data-ttu-id="9240f-109">Порядок сопоставления и правила сопоставления между сущностями</span><span class="sxs-lookup"><span data-stu-id="9240f-109">Match order and rules for cross-entity matching</span></span>
- <span data-ttu-id="9240f-110">Правила дедупликации сопоставленных сущностей</span><span class="sxs-lookup"><span data-stu-id="9240f-110">Rules for deduplication of match entities</span></span>

## <a name="specify-the-match-order"></a><span data-ttu-id="9240f-111">Задание порядка установления соответствия</span><span class="sxs-lookup"><span data-stu-id="9240f-111">Specify the match order</span></span>

<span data-ttu-id="9240f-112">Перейдите **Данные** > **Объединить** > **Соответствие** и выберите **Задать порядок**, чтобы начать фазу соответствия.</span><span class="sxs-lookup"><span data-stu-id="9240f-112">Go to **Data** > **Unify** > **Match** and select **Set order** to start the match phase.</span></span>

<span data-ttu-id="9240f-113">Каждое сопоставление объединяет две или более сущности в одну консолидированную сущность.</span><span class="sxs-lookup"><span data-stu-id="9240f-113">Each match unifies two or more entities into a single, consolidated entity.</span></span> <span data-ttu-id="9240f-114">В то же время в нем хранятся уникальные записи клиентов.</span><span class="sxs-lookup"><span data-stu-id="9240f-114">At the same time, it keeps the unique customer records.</span></span> <span data-ttu-id="9240f-115">Например, мы выбрали две сущности: **eCommerce:eCommerceContacts** в качестве основной и **LoyaltyScheme:loyCustomers** в качестве дополнительной.</span><span class="sxs-lookup"><span data-stu-id="9240f-115">For example, we selected two entities: **eCommerce:eCommerceContacts** as the primary entity and **LoyaltyScheme:loyCustomers** as second entity.</span></span> <span data-ttu-id="9240f-116">Порядок сущностей указывает на то, в какой последовательности система будет пытаться сопоставить записи.</span><span class="sxs-lookup"><span data-stu-id="9240f-116">The order of the entities specifies in which order the system will try to match the records.</span></span>

:::image type="content" source="media/match-page.png" alt-text="Снимок экрана страницы &quot;Сопоставление&quot; в области &quot;Объединение&quot; процесса объединения данных.":::
  
<span data-ttu-id="9240f-118">Основная сущность *eCommerce:eCommerceContacts* сопоставлена со следующей сущностью *LoyaltyScheme:loyCustomers*.</span><span class="sxs-lookup"><span data-stu-id="9240f-118">The primary entity *eCommerce:eCommerceContacts* is matched with the next entity *LoyaltyScheme:loyCustomers*.</span></span> <span data-ttu-id="9240f-119">Набор данных, полученный в результате первого шага сопоставления, сопоставляется со следующей сущностью, если у вас их более двух.</span><span class="sxs-lookup"><span data-stu-id="9240f-119">The dataset that results from the first match step is matched with the following entity if you have more than two entities.</span></span>

> [!IMPORTANT]
> <span data-ttu-id="9240f-120">Сущность, которую вы выбираете в качестве основной будет служить основой для вашего набора данных единых профилей.</span><span class="sxs-lookup"><span data-stu-id="9240f-120">The entity that you choose as your primary entity will serve as the basis for your unified profiles dataset.</span></span> <span data-ttu-id="9240f-121">К этому объекту будут добавлены дополнительные объекты, выбранные на этапе соответствия.</span><span class="sxs-lookup"><span data-stu-id="9240f-121">Additional entities that are selected during the match phase will be added to this entity.</span></span> <span data-ttu-id="9240f-122">Это не означает, что объединенная сущность будет включать *все* данные, включенные в эту сущность.</span><span class="sxs-lookup"><span data-stu-id="9240f-122">This doesn't mean that the unified entity will include *all* of the data included in this entity.</span></span>
>
> <span data-ttu-id="9240f-123">Есть два соображения, которые могут помочь вам выбрать иерархию ваших сущностей:</span><span class="sxs-lookup"><span data-stu-id="9240f-123">There are two considerations that can help you choose the hierarchy of your entities:</span></span>
>
> - <span data-ttu-id="9240f-124">В качестве основной выберите сущность с наиболее полными и надежными данными профиля о ваших клиентах.</span><span class="sxs-lookup"><span data-stu-id="9240f-124">Choose the entity with the most complete and reliable profile data about your customers as primary entity.</span></span>
> - <span data-ttu-id="9240f-125">Выберите в качестве основной сущность, в которой несколько атрибутов совпадают с другими сущностями (например, имя, номер телефона или адрес электронной почты).</span><span class="sxs-lookup"><span data-stu-id="9240f-125">Choose the entity that hast several attributes in common with other entities (for example, name, phone number, or email address) as primary entity.</span></span>

<span data-ttu-id="9240f-126">После указания порядка сопоставления вы увидите определенные пары совпадений в разделе **Сведения о сопоставленных записях** (**Данные** > **Объединение** > **Сопоставление**).</span><span class="sxs-lookup"><span data-stu-id="9240f-126">After specifying the match order, you'll see the defined match pairs in the **Matched records details** section on **Data** > **Unify** > **Match**.</span></span> <span data-ttu-id="9240f-127">Ключевые метрики будут пустыми до завершения процесса сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-127">The key metrics will be empty until the match process completes.</span></span>

## <a name="define-rules-for-match-pairs"></a><span data-ttu-id="9240f-128">Определите правила сопоставления</span><span class="sxs-lookup"><span data-stu-id="9240f-128">Define rules for match pairs</span></span>

<span data-ttu-id="9240f-129">Правила соответствия определяют логику, по которой будет производиться поиск соответствий в определенной паре сущностей.</span><span class="sxs-lookup"><span data-stu-id="9240f-129">Match rules specify the logic by which a specific pair of entities will be matched.</span></span>

<span data-ttu-id="9240f-130">Предупреждение **Нужны правила** рядом с именем сущности означает, что для сопоставляемой пары не определено правило сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-130">The **Needs rules** warning next to an entity name suggests that no match rule is defined for a match pair.</span></span> 

:::image type="content" source="media/match-rule-add.png" alt-text="Снимок экрана раздела &amp;quot;Сведения о сопоставленной записи&amp;quot; с выделенным элементом управления для добавления правил.":::

1. <span data-ttu-id="9240f-132">Выберите **Добавить правила** под сущностью в разделе **Сведения о сопоставленных записях** для определения правил сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-132">Select **Add rules** under an entity in the **Matched records details** section to define match rules.</span></span>

1. <span data-ttu-id="9240f-133">В области **Создать правило** настройте условия для правила.</span><span class="sxs-lookup"><span data-stu-id="9240f-133">In the **Create rule** pane, configure the conditions for the rule.</span></span>

   :::image type="content" source="media/match-rule-conditions.png" alt-text="Скриншот открытого правила сопоставления с добавленными условиями.":::

   - <span data-ttu-id="9240f-135">**Сущность/Поле (первая строка)**: выберите связанную сущность и атрибут, чтобы указать свойство записи, которое, вероятно, является уникальным для клиента.</span><span class="sxs-lookup"><span data-stu-id="9240f-135">**Entity/Field (first row)**: Choose a related entity and an attribute to specify a record property that is likely unique to a customer.</span></span> <span data-ttu-id="9240f-136">Например, номер телефона или адрес электронной почты.</span><span class="sxs-lookup"><span data-stu-id="9240f-136">For example, a phone number or email address.</span></span> <span data-ttu-id="9240f-137">Избегайте сопоставления по атрибутам типа действия.</span><span class="sxs-lookup"><span data-stu-id="9240f-137">Avoid matching by activity-type attributes.</span></span> <span data-ttu-id="9240f-138">Например, ИД покупки, скорее всего, не найдет соответствия в других типах записей.</span><span class="sxs-lookup"><span data-stu-id="9240f-138">For example, a purchase ID will likely find no match in other record types.</span></span>

   - <span data-ttu-id="9240f-139">**Сущность/Поле (вторая строка)**: выберите атрибут, который относится к атрибуту сущности, указанной в первой строке.</span><span class="sxs-lookup"><span data-stu-id="9240f-139">**Entity/Field (second row)**: Choose an attribute that relates to the attribute of the entity specified in the first row.</span></span>

   - <span data-ttu-id="9240f-140">**Нормализация**: выберите из следующих вариантов нормализации для выбранных атрибутов.</span><span class="sxs-lookup"><span data-stu-id="9240f-140">**Normalize**: Select from following normalization options for the selected attributes.</span></span> 
     - <span data-ttu-id="9240f-141">Пробел: удаляет все пробелы.</span><span class="sxs-lookup"><span data-stu-id="9240f-141">Whitespace: Removes all spaces.</span></span> <span data-ttu-id="9240f-142">*Hello   World* становится *HelloWorld*.</span><span class="sxs-lookup"><span data-stu-id="9240f-142">*Hello   World* becomes *HelloWorld*.</span></span>
     - <span data-ttu-id="9240f-143">Символы: удаляет все символы и специальные знаки.</span><span class="sxs-lookup"><span data-stu-id="9240f-143">Symbols: Removes all symbols and special characters.</span></span> <span data-ttu-id="9240f-144">*Head&Shoulder* становится *HeadShoulder*.</span><span class="sxs-lookup"><span data-stu-id="9240f-144">*Head&Shoulder* becomes *HeadShoulder*.</span></span>
     - <span data-ttu-id="9240f-145">Текст в нижний регистр: переводит все символы в нижний регистр.</span><span class="sxs-lookup"><span data-stu-id="9240f-145">Text to lower case: Converts all character to lower case.</span></span> <span data-ttu-id="9240f-146">*ВСЕ ЗАГЛАВНЫЕ БУКВЫ и Капитализация Начальных Букв* становится *все заглавные буквы и капитализация начальных Букв*.</span><span class="sxs-lookup"><span data-stu-id="9240f-146">*ALL CAPS and Title Case* becomes *all caps and title case*.</span></span>
     - <span data-ttu-id="9240f-147">Unicode в ASCII: преобразует обозначение Unicode в символы ASCII.</span><span class="sxs-lookup"><span data-stu-id="9240f-147">Unicode to ASCII: Converts unicode notation to ASCII characters.</span></span> <span data-ttu-id="9240f-148">*/u00B2* становится *2*.</span><span class="sxs-lookup"><span data-stu-id="9240f-148">*/u00B2* becomes *2*.</span></span>
     - <span data-ttu-id="9240f-149">Числительные: преобразует другие числовые системы, например римские цифры, в арабские.</span><span class="sxs-lookup"><span data-stu-id="9240f-149">Numerals: Converts other numeral systems, such as Roman numerals, to Arabic numerals.</span></span> <span data-ttu-id="9240f-150">*VIII* становится *8*.</span><span class="sxs-lookup"><span data-stu-id="9240f-150">*VIII* becomes *8*.</span></span>
     - <span data-ttu-id="9240f-151">Семантические типы: стандартизирует имена, заголовки, номера телефонов, адреса и т. д.</span><span class="sxs-lookup"><span data-stu-id="9240f-151">Semantic types: Standardizes names, titles, phone numbers, addresses, etc.</span></span> 

   - <span data-ttu-id="9240f-152">**Точность**: установите уровень точности, чтобы иметь доступ к этому условию.</span><span class="sxs-lookup"><span data-stu-id="9240f-152">**Precision**: Set the level of precision to apply for this condition.</span></span> 
     - <span data-ttu-id="9240f-153">**Базовый**: выберите *Низкий*, *Средний*, *Высокий*, и *Точный*.</span><span class="sxs-lookup"><span data-stu-id="9240f-153">**Basic**: Choose from *Low*, *Medium*, *High*, and *Exact*.</span></span> <span data-ttu-id="9240f-154">Выберите **Точный**, чтобы сопоставлять только те записи, которые совпадают на 100%.</span><span class="sxs-lookup"><span data-stu-id="9240f-154">Select **Exact** to only match records that that match 100 percent.</span></span> <span data-ttu-id="9240f-155">Выберите один из других уровней, чтобы сопоставить записи, которые не идентичны на 100 процентов.</span><span class="sxs-lookup"><span data-stu-id="9240f-155">Select one of the other levels to match records that aren't 100 percent identical.</span></span>
     - <span data-ttu-id="9240f-156">**Пользовательский**: задайте процент, которому должны соответствовать записи.</span><span class="sxs-lookup"><span data-stu-id="9240f-156">**Custom**: Set a percentage that records need to match.</span></span> <span data-ttu-id="9240f-157">Система будет сопоставлять только записи, превышающие этот порог.</span><span class="sxs-lookup"><span data-stu-id="9240f-157">The system will only match records passing this threshold.</span></span>

1. <span data-ttu-id="9240f-158">Задайте **Имя** для правила.</span><span class="sxs-lookup"><span data-stu-id="9240f-158">Provide a **Name** for the rule.</span></span>

1. <span data-ttu-id="9240f-159">[Добавьте дополнительные условия](#add-conditions-to-a-rule) или выберите **Выполнено**, чтобы завершить создание правила.</span><span class="sxs-lookup"><span data-stu-id="9240f-159">[Add more conditions](#add-conditions-to-a-rule) or select **Done** to finalize the rule.</span></span>

1. <span data-ttu-id="9240f-160">Вы также можете (необязательно) [добавить дополнительные правила](#add-rules-to-a-match-pair).</span><span class="sxs-lookup"><span data-stu-id="9240f-160">Optionally, [add more rules](#add-rules-to-a-match-pair).</span></span>

1. <span data-ttu-id="9240f-161">Нажмите кнопку **Сохранить**, чтобы применить изменения.</span><span class="sxs-lookup"><span data-stu-id="9240f-161">Select **Save** to apply your changes.</span></span>

### <a name="add-conditions-to-a-rule"></a><span data-ttu-id="9240f-162">Добавление условий для правила</span><span class="sxs-lookup"><span data-stu-id="9240f-162">Add conditions to a rule</span></span>

<span data-ttu-id="9240f-163">Чтобы сопоставлять сущности только в случае соответствия атрибутов нескольким условиям, добавьте дополнительные условия в правило сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-163">To match entities only if attributes meet multiple conditions, add more conditions to a match rule.</span></span> <span data-ttu-id="9240f-164">Условия связаны с помощью логического оператора "И", поэтому выполнение происходит только при соблюдении всех условий.</span><span class="sxs-lookup"><span data-stu-id="9240f-164">Conditions are connected with a logical AND operator and thus only executed if all conditions are met.</span></span>

1. <span data-ttu-id="9240f-165">Выберите **Данные** > **Объединение** > **Сопоставление** , а затем — **Редактировать** на правиле, к которому вы хотите добавить условия.</span><span class="sxs-lookup"><span data-stu-id="9240f-165">Go to **Data** > **Unify** > **Match** and select **Edit** on the rule you want to add conditions to.</span></span>

1. <span data-ttu-id="9240f-166">На панели **Изменить правило** выберите **Добавить условие**.</span><span class="sxs-lookup"><span data-stu-id="9240f-166">In the **Edit rule** pane, select **Add condition**.</span></span>

1. <span data-ttu-id="9240f-167">Выберите **Готово**, чтобы сохранить правило.</span><span class="sxs-lookup"><span data-stu-id="9240f-167">Select **Done** so save the rule.</span></span>

### <a name="add-rules-to-a-match-pair"></a><span data-ttu-id="9240f-168">Добавление правила в сопоставляемую пару</span><span class="sxs-lookup"><span data-stu-id="9240f-168">Add rules to a match pair</span></span>

<span data-ttu-id="9240f-169">Правила соответствия представляют собой наборы условий.</span><span class="sxs-lookup"><span data-stu-id="9240f-169">Match rules represent sets of conditions.</span></span> <span data-ttu-id="9240f-170">Чтобы сопоставлять сущности по условиям на основе нескольких атрибутов, добавляйте дополнительные правила.</span><span class="sxs-lookup"><span data-stu-id="9240f-170">To match entities by conditions based on multiple attributes, add more rules</span></span>

1.  <span data-ttu-id="9240f-171">Выберите **Данные** > **Объединение** > **Сопоставление** , а затем — **Добавить правило** на сущности, к которой вы хотите добавить правила.</span><span class="sxs-lookup"><span data-stu-id="9240f-171">Go to **Data** > **Unify** > **Match** and select **Add rule** on the entity you want to add rules to.</span></span>

2. <span data-ttu-id="9240f-172">Следуйте инструкциям в разделе [Определение правил для сопоставляемых пар](#define-rules-for-match-pairs).</span><span class="sxs-lookup"><span data-stu-id="9240f-172">Follow the steps in [Define rules for match pairs](#define-rules-for-match-pairs).</span></span>

> [!NOTE]
> <span data-ttu-id="9240f-173">Порядок правил имеет значение.</span><span class="sxs-lookup"><span data-stu-id="9240f-173">The order of rules matters.</span></span> <span data-ttu-id="9240f-174">Алгоритм сопоставления сначала работает на основе вашего первого правила, а затем переходит ко второму правилу только в том случае, если не обнаружены соответствия по первому правилу.</span><span class="sxs-lookup"><span data-stu-id="9240f-174">The matching algorithm tries to match on the basis of your first rule and continues to the second rule only if no matches were identified with the first rule.</span></span>

### <a name="change-the-entity-order-in-match-rules"></a><span data-ttu-id="9240f-175">Изменение порядка сущностей в правилах сопоставления</span><span class="sxs-lookup"><span data-stu-id="9240f-175">Change the entity order in match rules</span></span>

<span data-ttu-id="9240f-176">Вы можете изменить порядок сущностей для правил сопоставления, чтобы изменить порядок их обработки.</span><span class="sxs-lookup"><span data-stu-id="9240f-176">You can reorder entities for match rules to change the order in which they are processed.</span></span> <span data-ttu-id="9240f-177">Правила, конфликтующие из-за изменения порядка, будут удалены.</span><span class="sxs-lookup"><span data-stu-id="9240f-177">Rules that are conflicting because of a changed order will be removed.</span></span> <span data-ttu-id="9240f-178">Вам необходимо воссоздать удаленные правила с обновленной конфигурацией.</span><span class="sxs-lookup"><span data-stu-id="9240f-178">You have to recreate removed rules with an updated configuration.</span></span>

1. <span data-ttu-id="9240f-179">Перейдите в раздел **Данные** > **Унифицировать** > **Сопоставление** и выберите **Изменить**.</span><span class="sxs-lookup"><span data-stu-id="9240f-179">Go to **Data** > **Unify** > **Match** and select **Edit**.</span></span>

1. <span data-ttu-id="9240f-180">В области **Изменить правило** выберите элемент управления **Переместить вверх/вниз** и перетаскивайте сущности, чтобы изменить порядок.</span><span class="sxs-lookup"><span data-stu-id="9240f-180">In the **Edit rule** pane, select the **Move up/down** control or drag and drop entities to change the order.</span></span>

   :::image type="content" source="media/reorder-match-rules.png" alt-text="Параметры для изменения порядка обработки сущностей на этапе сопоставления.":::

1. <span data-ttu-id="9240f-182">Выберите **Готово**, чтобы сохранить правило.</span><span class="sxs-lookup"><span data-stu-id="9240f-182">Select **Done** so save the rule.</span></span>

## <a name="define-deduplication-on-a-match-entity"></a><span data-ttu-id="9240f-183">Определите дедупликацию для соответствующей сущности</span><span class="sxs-lookup"><span data-stu-id="9240f-183">Define deduplication on a match entity</span></span>

<span data-ttu-id="9240f-184">В добавление к [правилам сопоставления между сущностями](#define-rules-for-match-pairs), вы также можете указать правила дедупликации.</span><span class="sxs-lookup"><span data-stu-id="9240f-184">In addition to [cross-entity match rules](#define-rules-for-match-pairs), you can also specify deduplications rules.</span></span> <span data-ttu-id="9240f-185">*Дедупликация* — это еще один процесс при сопоставлении записей.</span><span class="sxs-lookup"><span data-stu-id="9240f-185">*Deduplication* is another process when matching records.</span></span> <span data-ttu-id="9240f-186">Он определяет повторяющиеся записи и объединяет их в одну запись.</span><span class="sxs-lookup"><span data-stu-id="9240f-186">It identifies duplicate records and merges them into one record.</span></span> <span data-ttu-id="9240f-187">Исходные записи связываются с объединенной записью с альтернативными идентификаторами.</span><span class="sxs-lookup"><span data-stu-id="9240f-187">Source records get linked to the merged record with alternate IDs.</span></span>

<span data-ttu-id="9240f-188">Дедуплицированные записи будут использоваться в процессе сопоставления между сущностями.</span><span class="sxs-lookup"><span data-stu-id="9240f-188">Deduplicated records will be used in the cross-entity matching process.</span></span> <span data-ttu-id="9240f-189">Дедупликация происходит на отдельных сущностях и может быть настроена для каждой сущности, используемой в сопоставляемых парах.</span><span class="sxs-lookup"><span data-stu-id="9240f-189">Deduplication happens on individual entities and can be configured every entity used in match pairs.</span></span>

<span data-ttu-id="9240f-190">Указание правил дедупликации не является обязательным.</span><span class="sxs-lookup"><span data-stu-id="9240f-190">Specifying deduplication rules isn't mandatory.</span></span> <span data-ttu-id="9240f-191">Если такие правила не настроены, применяются правила, определенные системой.</span><span class="sxs-lookup"><span data-stu-id="9240f-191">If no such rules are configured, the system-defined rules are applied.</span></span> <span data-ttu-id="9240f-192">Они объединяют все записи в единую запись перед передачей данных сущности для сопоставления с целью повышения эффективности.</span><span class="sxs-lookup"><span data-stu-id="9240f-192">They combine all records into a single record before passing the entity data to cross-entity matching for enhanced performance.</span></span>

### <a name="add-deduplication-rules"></a><span data-ttu-id="9240f-193">Добавить правила дедупликации</span><span class="sxs-lookup"><span data-stu-id="9240f-193">Add deduplication rules</span></span>

1. <span data-ttu-id="9240f-194">Выберите **Данные** > **Объединение** > **Сопоставление**.</span><span class="sxs-lookup"><span data-stu-id="9240f-194">Go to **Data** > **Unify** > **Match**.</span></span>

1. <span data-ttu-id="9240f-195">В разделе **Объединенные повторы** выберите **Задать сущности**.</span><span class="sxs-lookup"><span data-stu-id="9240f-195">In the **Merged duplicates** section, select **Set entities**.</span></span> <span data-ttu-id="9240f-196">Если правила дедупликации уже созданы, выберите **Редактировать**.</span><span class="sxs-lookup"><span data-stu-id="9240f-196">In case deduplication rules are already created, select **Edit**.</span></span>

1. <span data-ttu-id="9240f-197">В разделе **Параметры объединения** выберите сущности, к которым вы хотите применить дедупликацию.</span><span class="sxs-lookup"><span data-stu-id="9240f-197">In the **Merge preferences** pane, choose the entities you want to run deduplication on.</span></span>

1. <span data-ttu-id="9240f-198">Укажите, как объединить повторяющиеся записи, и выберите один из трех вариантов:</span><span class="sxs-lookup"><span data-stu-id="9240f-198">Specify how to combine the duplicate records and choose one of three options:</span></span>
   - <span data-ttu-id="9240f-199">**Наиболее заполненные**: определяет запись с наиболее заполненными полями атрибутов в качестве записи победителя.</span><span class="sxs-lookup"><span data-stu-id="9240f-199">**Most filled**: Identifies the record with most populated attribute fields as the winner record.</span></span> <span data-ttu-id="9240f-200">Это параметр объединения по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="9240f-200">It's the default merge option.</span></span>
   - <span data-ttu-id="9240f-201">**Самые новые**: определяет запись победителя на основе "самая новая".</span><span class="sxs-lookup"><span data-stu-id="9240f-201">**Most recent**: Identifies the winner record based on the most recency.</span></span> <span data-ttu-id="9240f-202">Требуется дата или числовое поле для определения давности.</span><span class="sxs-lookup"><span data-stu-id="9240f-202">Requires a date or a numeric field to define the recency.</span></span>
   - <span data-ttu-id="9240f-203">**Наименее недавние**: определяет запись победителя на основе "наименее недавние".</span><span class="sxs-lookup"><span data-stu-id="9240f-203">**Least recent**: Identifies the winner record based on the least recency.</span></span> <span data-ttu-id="9240f-204">Требуется дата или числовое поле для определения давности.</span><span class="sxs-lookup"><span data-stu-id="9240f-204">Requires a date or a numeric field to define the recency.</span></span>
 
   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="9240f-205">![Правила дедупликации, шаг 1](media/match-selfconflation.png "Правила дедупликации, шаг 1")</span><span class="sxs-lookup"><span data-stu-id="9240f-205">![Deduplication rules step 1](media/match-selfconflation.png "Deduplication rules step 1")</span></span>
 
1. <span data-ttu-id="9240f-206">После выбора сущностей и задания их предпочтений слияния выберите **Добавить правило** для определения правил дедупликации на уровне сущности.</span><span class="sxs-lookup"><span data-stu-id="9240f-206">Once the entities are selected and their merge preference is set, select **Add rule** to define the deduplication rules at an entity level.</span></span>
   - <span data-ttu-id="9240f-207">**Выбрать поле**: указываются все доступные поля из этой сущности.</span><span class="sxs-lookup"><span data-stu-id="9240f-207">**Select field** lists all the available fields from that entity.</span></span> <span data-ttu-id="9240f-208">Выберите поле, которое вы хотите проверить на наличие дубликатов.</span><span class="sxs-lookup"><span data-stu-id="9240f-208">Choose the field you want to check for duplicates.</span></span> <span data-ttu-id="9240f-209">Выберите поля, которые, вероятно, уникальны для каждого клиента.</span><span class="sxs-lookup"><span data-stu-id="9240f-209">Choose fields that are likely unique for every single customer.</span></span> <span data-ttu-id="9240f-210">Например, адрес электронной почты или комбинация имени, города и номера телефона.</span><span class="sxs-lookup"><span data-stu-id="9240f-210">For example, an email address, or the combination of name, city, and phone number.</span></span>
   - <span data-ttu-id="9240f-211">Задайте настройки нормализации и точности.</span><span class="sxs-lookup"><span data-stu-id="9240f-211">Specify the normalization and precision settings.</span></span>
   - <span data-ttu-id="9240f-212">Укажите дополнительные условия, выбрав **Добавить условие**.</span><span class="sxs-lookup"><span data-stu-id="9240f-212">Define more conditions by selecting **Add condition**.</span></span>
 
   > [!div class="mx-imgBorder"]
   > <span data-ttu-id="9240f-213">![Правила дедупликации, шаг 2](media/match-selfconflation-rules.png "Правила дедупликации, шаг 2")</span><span class="sxs-lookup"><span data-stu-id="9240f-213">![Deduplication rules step 2](media/match-selfconflation-rules.png "Deduplication rules step 2")</span></span>

  <span data-ttu-id="9240f-214">Можно создать несколько правил дедупликации для сущности.</span><span class="sxs-lookup"><span data-stu-id="9240f-214">You can create multiple deduplication rules for an entity.</span></span> 

1. <span data-ttu-id="9240f-215">Теперь при выполнении процесса соответствия записи группируются на основе условий, определенных в правилах дедупликации.</span><span class="sxs-lookup"><span data-stu-id="9240f-215">Running the match process now groups the records based on the conditions defined in the deduplication rules.</span></span> <span data-ttu-id="9240f-216">После группировки записей для определения победившей записи применяется политика слияния.</span><span class="sxs-lookup"><span data-stu-id="9240f-216">After grouping the records, the merge policy is applied to identify the winner record.</span></span>

1. <span data-ttu-id="9240f-217">Эта запись победителя затем передается в сопоставление между сущностями вместе с записями без победителя (например, альтернативными идентификаторами) для повышения качества соответствия.</span><span class="sxs-lookup"><span data-stu-id="9240f-217">This winner record is then passed on to the cross-entity matching, along with the non-winner records (for example, alternate IDs) to improve the matching quality.</span></span>

1. <span data-ttu-id="9240f-218">Любые пользовательские правила сопоставления перезаписывают правила дедупликации.</span><span class="sxs-lookup"><span data-stu-id="9240f-218">Any custom match rules defined overwrite deduplication rules.</span></span> <span data-ttu-id="9240f-219">Если правило дедупликации идентифицирует совпадающие записи, а настраиваемое правило сопоставления настроено так, чтобы никогда не совпадать с этими записями, то эти две записи не будут сопоставлены.</span><span class="sxs-lookup"><span data-stu-id="9240f-219">If a deduplication rule identifies matching records, and a custom match rule is set to never match those records, then these two records won't be matched.</span></span>

1. <span data-ttu-id="9240f-220">После [запуска процесса сопоставления](#run-the-match-process) вы увидите статистику дедупликации на плитках ключевых метрик.</span><span class="sxs-lookup"><span data-stu-id="9240f-220">After [running the match process](#run-the-match-process), you will see the deduplication stats in the key metrics tiles.</span></span>

### <a name="deduplication-output-as-an-entity"></a><span data-ttu-id="9240f-221">Выходные данные дедупликации как сущность</span><span class="sxs-lookup"><span data-stu-id="9240f-221">Deduplication output as an entity</span></span>

<span data-ttu-id="9240f-222">Процесс дедупликации создает новую сущность для каждой сущности из пар совпадений, чтобы идентифицировать дедуплицированные записи.</span><span class="sxs-lookup"><span data-stu-id="9240f-222">The deduplication process creates a new entity for every entity from the match pairs to identify the deduplicated records.</span></span> <span data-ttu-id="9240f-223">Эти сущности можно найти вместе с **ConflationMatchPairs:CustomerInsights** в разделе **Система** на странице **Сущности** с именем **Deduplication_DataSource_Entity**.</span><span class="sxs-lookup"><span data-stu-id="9240f-223">These entities can be found along with the **ConflationMatchPairs:CustomerInsights** in the **System** section in the **Entities** page, with the name **Deduplication_DataSource_Entity**.</span></span>

<span data-ttu-id="9240f-224">Сущность выходных данных дедупликации содержит следующую информацию:</span><span class="sxs-lookup"><span data-stu-id="9240f-224">A deduplication output entity contains the following information:</span></span>
- <span data-ttu-id="9240f-225">Идентификаторы/ключи</span><span class="sxs-lookup"><span data-stu-id="9240f-225">IDs / Keys</span></span>
  - <span data-ttu-id="9240f-226">Поле первичного ключа и поле его альтернативного идентификатора.</span><span class="sxs-lookup"><span data-stu-id="9240f-226">Primary key field and its alternate IDs field.</span></span> <span data-ttu-id="9240f-227">Поле альтернативных идентификаторов состоит из всех альтернативных идентификаторов, определенных для записи.</span><span class="sxs-lookup"><span data-stu-id="9240f-227">Alternate IDs field consists of all the alternate IDs identified for a record.</span></span>
  - <span data-ttu-id="9240f-228">Поле Deduplication_GroupId показывает группу или кластер, идентифицированный внутри сущности, который группирует все похожие записи на основе указанных полей дедупликации.</span><span class="sxs-lookup"><span data-stu-id="9240f-228">Deduplication_GroupId field shows the group or cluster identified within an entity that groups all the similar records based on the specified deduplication fields.</span></span> <span data-ttu-id="9240f-229">Это используется для системной обработки.</span><span class="sxs-lookup"><span data-stu-id="9240f-229">It's used for system processing purposes.</span></span> <span data-ttu-id="9240f-230">Если не указаны правила ручной дедупликации и применяются системные правила дедупликации, вы можете не найти это поле в сущности выходных данных дедупликации.</span><span class="sxs-lookup"><span data-stu-id="9240f-230">If there are no manual deduplication rules specified and system defined deduplication rules apply, you may not find this field in the deduplication output entity.</span></span>
  - <span data-ttu-id="9240f-231">Deduplication_WinnerId: это поле содержит идентификатор победителя из идентифицированных групп или кластеров.</span><span class="sxs-lookup"><span data-stu-id="9240f-231">Deduplication_WinnerId: This field contains the winner ID from the identified groups or clusters.</span></span> <span data-ttu-id="9240f-232">Если Deduplication_WinnerId совпадает со значением первичного ключа для записи, это означает, что запись является победившей.</span><span class="sxs-lookup"><span data-stu-id="9240f-232">If the Deduplication_WinnerId is same as the Primary key value for a record, it means that the record is the winner record.</span></span>
- <span data-ttu-id="9240f-233">Поля, используемые для определения правил дедупликации.</span><span class="sxs-lookup"><span data-stu-id="9240f-233">Fields used to define the deduplication rules.</span></span>
- <span data-ttu-id="9240f-234">Поля «Правило» и «Оценка», чтобы указать, какие из правил дедупликации были применены, и оценка, возвращаемая алгоритмом соответствия.</span><span class="sxs-lookup"><span data-stu-id="9240f-234">Rule and Score fields to denote which of the deduplication rules got applied and the score returned by the matching algorithm.</span></span>
   
## <a name="run-the-match-process"></a><span data-ttu-id="9240f-235">Запуск процесса сопоставления</span><span class="sxs-lookup"><span data-stu-id="9240f-235">Run the match process</span></span>

<span data-ttu-id="9240f-236">После настройки правил сопоставления, включая правила сопоставления между сущностями и дедупликации, вы можете запустить процесс сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-236">With configured match rules, including cross-entity matching and deduplication rules, you can run the match process.</span></span> 

<span data-ttu-id="9240f-237">Выберите **Данные** > **Объединение** > **Сопоставление**, а затем нажмите **Запустить**, чтобы начать процесс.</span><span class="sxs-lookup"><span data-stu-id="9240f-237">Go to **Data** > **Unify** > **Match** and select **Run** to start the process.</span></span> <span data-ttu-id="9240f-238">Алгоритм сопоставления занимает некоторое время, и вы не можете изменить конфигурацию, пока он не будет завершен.</span><span class="sxs-lookup"><span data-stu-id="9240f-238">The matching algorithm takes some time to complete and you can't change the configuration until it completes.</span></span> <span data-ttu-id="9240f-239">Чтобы внести изменения, нужно отменить выполнение процесса.</span><span class="sxs-lookup"><span data-stu-id="9240f-239">To make changes, you can cancel the run.</span></span> <span data-ttu-id="9240f-240">Выберите статус задания и выберите **Отменить задание** в области **Сведения о ходе выполнения**.</span><span class="sxs-lookup"><span data-stu-id="9240f-240">Select the status of the job and select **Cancel job** on the **Progress details** pane.</span></span>

<span data-ttu-id="9240f-241">Вы найдете результат успешного запуска, объединенную сущность профиля клиента, на странице **Сущности**.</span><span class="sxs-lookup"><span data-stu-id="9240f-241">You'll find the result of a successful run, the unified customer profile entity, on the **Entities** page.</span></span> <span data-ttu-id="9240f-242">Ваша объединенная сущность клиента называется **Клиенты** в разделе **Профили**.</span><span class="sxs-lookup"><span data-stu-id="9240f-242">Your unified customer entity is called **Customers** in the **Profiles** section.</span></span> <span data-ttu-id="9240f-243">Первый успешный запуск сопоставления создает объединенную сущность *Клиент*.</span><span class="sxs-lookup"><span data-stu-id="9240f-243">The first successful match run creates the unified *Customer* entity.</span></span> <span data-ttu-id="9240f-244">Все последующие сопоставления расширяют эту сущность.</span><span class="sxs-lookup"><span data-stu-id="9240f-244">All subsequent match runs expand that entity.</span></span>

> [!TIP]
> <span data-ttu-id="9240f-245">Есть [шесть типов статусов](system.md#status-types) для задач/процессов.</span><span class="sxs-lookup"><span data-stu-id="9240f-245">There are [six types of status](system.md#status-types) for tasks/processes.</span></span> <span data-ttu-id="9240f-246">Кроме того, большинство процессов [зависит от других последующих процессов](system.md#refresh-policies).</span><span class="sxs-lookup"><span data-stu-id="9240f-246">Additionally, most processes [depend on other downstream processes](system.md#refresh-policies).</span></span> <span data-ttu-id="9240f-247">Вы можете выбрать статус процесса, чтобы увидеть детали выполнения всего задания.</span><span class="sxs-lookup"><span data-stu-id="9240f-247">You can select the status of a process to see details on the progress of the entire job.</span></span> <span data-ttu-id="9240f-248">После выбора **См. сведения** для одной из задач задания вы найдете дополнительную информацию: время обработки, дату последней обработки, а также все ошибки и предупреждения, связанные с задачей.</span><span class="sxs-lookup"><span data-stu-id="9240f-248">After selecting **See details** for one of the job's tasks, you find additional information: processing time, the last processing date, and all errors and warnings associated with the task.</span></span>

## <a name="review-and-validate-your-matches"></a><span data-ttu-id="9240f-249">Просмотр и подтверждение ваших совпадений</span><span class="sxs-lookup"><span data-stu-id="9240f-249">Review and validate your matches</span></span>

<span data-ttu-id="9240f-250">Выберите **Данные** > **Объединение** > **Сопоставление**, чтобы оценить качество ваших пар совпадений и при необходимости уточнить их.</span><span class="sxs-lookup"><span data-stu-id="9240f-250">Go to **Data** > **Unify** > **Match** to evaluate the quality of your match pairs and refine them if necessary.</span></span>

<span data-ttu-id="9240f-251">Плитки в верхней части страницы отображают ключевые метрики с указанием количества сопоставленных записей и дубликатов.</span><span class="sxs-lookup"><span data-stu-id="9240f-251">The tiles on top of the page show key metrics, summarizing the number of matched records and duplicates.</span></span>

:::image type="content" source="media/match-KPIs.png" alt-text="Обрезанный снимок экрана с ключевыми метриками на странице &amp;quot;Сопоставление&amp;quot; с числами и подробными сведениями.":::

- <span data-ttu-id="9240f-253">**Уникальные исходные записи** — количество отдельных исходных записей, обработанных при последнем сопоставлении.</span><span class="sxs-lookup"><span data-stu-id="9240f-253">**Unique source records** shows the number of individual source records that were processed in last match run.</span></span>
- <span data-ttu-id="9240f-254">**Сопоставленные и несопоставленные записи**: указывается количество уникальных записей, которые остались после обработки правил сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-254">**Matched and non-matched records** highlights how many unique records remain after processing the match rules.</span></span>
- <span data-ttu-id="9240f-255">**Только сопоставленные записи** показывает количество соответствий по всем парам.</span><span class="sxs-lookup"><span data-stu-id="9240f-255">**Matched records only** shows the number of matches across all of your match pairs.</span></span>

<span data-ttu-id="9240f-256">Вы можете оценить результаты каждой пары совпадений и ее правила в таблице **Сведения о сопоставленных записях**.</span><span class="sxs-lookup"><span data-stu-id="9240f-256">You can assess the results of each match pair and its rules in the **Matched records details** table.</span></span> <span data-ttu-id="9240f-257">Сравните количество записей, полученных из пары совпадений, с процентом успешно сопоставленных записей.</span><span class="sxs-lookup"><span data-stu-id="9240f-257">Compare the number of records that came from a match pair against the percentage of successfully matched records.</span></span>

<span data-ttu-id="9240f-258">Просмотрите правила пары совпадений, чтобы увидеть процент успешно сопоставленных записей на уровне правила.</span><span class="sxs-lookup"><span data-stu-id="9240f-258">Review the rules of a match pair to see the percentage of successfully matched records at the rule level.</span></span> <span data-ttu-id="9240f-259">Нажмите на многоточие (...), а затем выберите **Предварительный просмотр соответствия** для просмотра всех этих записей на уровне правила.</span><span class="sxs-lookup"><span data-stu-id="9240f-259">Select the ellipsis (...) and then select **Match preview** to view all these records on the rule level.</span></span> <span data-ttu-id="9240f-260">Мы рекомендуем вам взглянуть на некоторые записи, чтобы убедиться, что они правильно сопоставлены.</span><span class="sxs-lookup"><span data-stu-id="9240f-260">We recommend that you take a look at some records to validate that they were matched correctly.</span></span>

<span data-ttu-id="9240f-261">Попробуйте разные пороги точности для условий, чтобы найти оптимальное значение.</span><span class="sxs-lookup"><span data-stu-id="9240f-261">Try different precision thresholds on conditions to find the optimal value.</span></span>

  1. <span data-ttu-id="9240f-262">Нажмите на многоточие (...) для правила, с которым вы хотите поэкспериментировать, и выберите **Редактировать**.</span><span class="sxs-lookup"><span data-stu-id="9240f-262">Select the ellipsis (...) for the rule that you want to experiment with and select **Edit**.</span></span>

  2. <span data-ttu-id="9240f-263">Измените значения точности в условиях, которые вы хотите откорректировать.</span><span class="sxs-lookup"><span data-stu-id="9240f-263">Change the precisions values in the conditions you want to revise.</span></span>

  3. <span data-ttu-id="9240f-264">Выберите **Предварительный просмотр**, чтобы увидеть количество сопоставленных и несопоставленных записей для выбранного условия.</span><span class="sxs-lookup"><span data-stu-id="9240f-264">Select **Preview** so see the number of matched and unmatched records for the selected condition.</span></span>

## <a name="manage-match-rules"></a><span data-ttu-id="9240f-265">Управление правилами сопоставления</span><span class="sxs-lookup"><span data-stu-id="9240f-265">Manage match rules</span></span>

<span data-ttu-id="9240f-266">Вы можете перенастроить и уточнить большинство параметров сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-266">You can reconfigure and fine-tune most of the match parameters.</span></span>

:::image type="content" source="media/match-rules-management.png" alt-text="Снимок экрана раскрывающегося меню с параметрами правила сопоставления.":::

- <span data-ttu-id="9240f-268">**Измените порядок ваших правил**, если вы определили несколько правил.</span><span class="sxs-lookup"><span data-stu-id="9240f-268">**Change the order of your rules** if you defined multiple rules.</span></span> <span data-ttu-id="9240f-269">Вы можете изменить порядок правил сопоставления с помощью кнопок **Вверх** и **Вниз** или перетаскивания.</span><span class="sxs-lookup"><span data-stu-id="9240f-269">You can reorder the match rules by selecting the **Move Up** and **Move Down** options or by drag and drop.</span></span>

- <span data-ttu-id="9240f-270">**Измените условия правила**, выбрав **Редактировать** и укажите разные поля.</span><span class="sxs-lookup"><span data-stu-id="9240f-270">**Change rule conditions** by selecting **Edit** and choose different fields.</span></span>

- <span data-ttu-id="9240f-271">**Деактивировать правило**, чтобы сохранить правило соответствия, исключив его из процесса соответствия.</span><span class="sxs-lookup"><span data-stu-id="9240f-271">**Deactivate a rule** to retain a match rule while excluding it from the matching process.</span></span>

- <span data-ttu-id="9240f-272">**Дублируйте свои правила**, если вы определили правило сопоставления и хотите создать аналогичное правило с изменениями. Для этого выберите **Дубликат**.</span><span class="sxs-lookup"><span data-stu-id="9240f-272">**Duplicate your rules** if you've defined a match rule and would like to create a similar rule with modifications, select **Duplicate**.</span></span>

- <span data-ttu-id="9240f-273">**Удалите правило**, выбрав значок **Удалить**.</span><span class="sxs-lookup"><span data-stu-id="9240f-273">**Delete a rule** by selecting the **Delete** symbol.</span></span>

## <a name="specify-custom-match-conditions"></a><span data-ttu-id="9240f-274">Укажите пользовательские условия сопоставления</span><span class="sxs-lookup"><span data-stu-id="9240f-274">Specify custom match conditions</span></span>

<span data-ttu-id="9240f-275">Вы можете указать условия, что отдельные записи должны всегда соответствовать или никогда не должны соответствовать.</span><span class="sxs-lookup"><span data-stu-id="9240f-275">You can specify conditions that certain records should always match or never match.</span></span> <span data-ttu-id="9240f-276">Эти правила могут быть загружены для отмены стандартного процесса сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-276">These rules can be uploaded to override the standard match process.</span></span> <span data-ttu-id="9240f-277">Например, если в наших записях есть Джон Доу I и Джон Доу II, система может сопоставить их как одного человека.</span><span class="sxs-lookup"><span data-stu-id="9240f-277">For example, if there are John Doe I and John Doe II in our records, the system might match them as one person.</span></span> <span data-ttu-id="9240f-278">Пользовательские правила сопоставления позволяют указать, что их профили относятся к разным людям.</span><span class="sxs-lookup"><span data-stu-id="9240f-278">Custom match rules let you specify that their profiles refer to different people.</span></span> 

1. <span data-ttu-id="9240f-279">Нажмите **Данные** > **Объединение** > **Сопоставление** и выберите **Пользовательское сопоставление** в разделе **Сведения о сопоставленных записях**.</span><span class="sxs-lookup"><span data-stu-id="9240f-279">Go to **Data** > **Unify** > **Match** and select **Custom match** in the **Matched records details** section.</span></span>

  :::image type="content" source="media/custom-match-create.png" alt-text="Снимок экрана раздела &amp;quot;Правила сопоставления&amp;quot; с выделенным элементом управления для пользовательского сопоставления.":::

1. <span data-ttu-id="9240f-281">Если у вас не заданы правила пользовательского сопоставления, вы увидите новую область **Пользовательское сопоставление** с более подробной информацией.</span><span class="sxs-lookup"><span data-stu-id="9240f-281">If you have no custom match rules set, you'll see a new **Custom match** pane with more details.</span></span>

1. <span data-ttu-id="9240f-282">Выберите **Заполните шаблон**, чтобы получить файл шаблона, в котором можно указать, какие записи из каких сущностей всегда должны совпадать или никогда не должны совпадать.</span><span class="sxs-lookup"><span data-stu-id="9240f-282">Select **Fill in the template** to get a template file that can specify which records from which entities should always match or never match.</span></span> <span data-ttu-id="9240f-283">Вам нужно будет отдельно заполнить записи "всегда совпадают" и "никогда не совпадают" в двух разных файлах.</span><span class="sxs-lookup"><span data-stu-id="9240f-283">You'll need to separately fill in the "always match" records and "never match" records in two different files.</span></span>

1. <span data-ttu-id="9240f-284">Шаблон содержит поля для указания значений сущности и первичного ключа сущности, которые будут использоваться в пользовательском соответствии.</span><span class="sxs-lookup"><span data-stu-id="9240f-284">The template contains fields to specify the entity and the entity primary key values to be used in the custom match.</span></span> <span data-ttu-id="9240f-285">Например, если вам нужно, чтобы первичный ключ *12345* из сущности *Продажи*, всегда соответствовал первичному ключу *34567* из сущности *Контакт*, заполните шаблон:</span><span class="sxs-lookup"><span data-stu-id="9240f-285">For example, if you want primary key *12345* from *Sales* entity to always match with primary key *34567* from *Contact* entity, fill in the template:</span></span>
    - <span data-ttu-id="9240f-286">Entity1: Продажи</span><span class="sxs-lookup"><span data-stu-id="9240f-286">Entity1: Sales</span></span>
    - <span data-ttu-id="9240f-287">Entity1Key: 12345</span><span class="sxs-lookup"><span data-stu-id="9240f-287">Entity1Key: 12345</span></span>
    - <span data-ttu-id="9240f-288">Entity2: Контакт</span><span class="sxs-lookup"><span data-stu-id="9240f-288">Entity2: Contact</span></span>
    - <span data-ttu-id="9240f-289">Entity2Key: 34567</span><span class="sxs-lookup"><span data-stu-id="9240f-289">Entity2Key: 34567</span></span>

   <span data-ttu-id="9240f-290">В одном файле шаблона можно указывать пользовательские записи совпадений из нескольких сущностей.</span><span class="sxs-lookup"><span data-stu-id="9240f-290">The same template file can specify custom match records from multiple entities.</span></span>
   
   <span data-ttu-id="9240f-291">Если вы хотите указать настраиваемое соответствие для дедупликации в сущности, укажите ту же сущность, что и Entity1 и Entity2, и установите разные значения первичного ключа.</span><span class="sxs-lookup"><span data-stu-id="9240f-291">If you want to specify custom matching for deduplication on an entity, provide the same entity as both Entity1 and Entity2 and set the different primary key values.</span></span>

1. <span data-ttu-id="9240f-292">После добавления всех переопределений, которые вы хотите применить, сохраните файл шаблона.</span><span class="sxs-lookup"><span data-stu-id="9240f-292">After adding all the overrides you want to apply, save the template file.</span></span>

1. <span data-ttu-id="9240f-293">Перейдите **Данные** > **Источники данных** и примите файлы шаблонов как новые сущности.</span><span class="sxs-lookup"><span data-stu-id="9240f-293">Go to **Data** > **Data sources** and ingest the template files as new entities.</span></span> <span data-ttu-id="9240f-294">После приема вы можете использовать их, чтобы указать конфигурацию соответствия.</span><span class="sxs-lookup"><span data-stu-id="9240f-294">Once ingested, you can use them to specify the Match configuration.</span></span>

1. <span data-ttu-id="9240f-295">После того как отправленные файлы и сущностей доступны, выберите параметр **Пользовательское соответствие** снова.</span><span class="sxs-lookup"><span data-stu-id="9240f-295">After uploading the files and entities are available, select the **Custom match** option again.</span></span> <span data-ttu-id="9240f-296">Вы увидите опции для указания сущностей, которые вы хотите включить.</span><span class="sxs-lookup"><span data-stu-id="9240f-296">You'll see options to specify the entities you want to include.</span></span> <span data-ttu-id="9240f-297">Выберите требуемые сущности из раскрывающегося меню.</span><span class="sxs-lookup"><span data-stu-id="9240f-297">Select the required entities from the drop-down menu.</span></span>

   :::image type="content" source="media/custom-match-overrides.png" alt-text="Снимок экрана диалогового окна для выбора переопределений для пользовательского сценария сопоставления.":::

1. <span data-ttu-id="9240f-299">Выберите сущности, которые вы хотите использовать для **Всегда должны соответствовать** и **Никогда не соответствуют**, выберите **Готово**.</span><span class="sxs-lookup"><span data-stu-id="9240f-299">Select the entities you want to use for **Always match** and **Never match**, select **Done**.</span></span>

1. <span data-ttu-id="9240f-300">Выберите **Сохранить** на странице **Сопоставление**, чтобы применить пользовательскую конфигурацию сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-300">Select **Save** on the **Match** page to apply the custom match configuration.</span></span>

1. <span data-ttu-id="9240f-301">Выберите **Запуск** на странице **Сопоставление**, чтобы начать процесс сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-301">Select **Run** on the **Match** page to start the matching process.</span></span> <span data-ttu-id="9240f-302">Другие указанные правила сопоставления переопределяются настраиваемой конфигурацией сопоставления.</span><span class="sxs-lookup"><span data-stu-id="9240f-302">Other specified match rules are overridden by the custom match configuration.</span></span>

> [!TIP]
> <span data-ttu-id="9240f-303">Выберите **Данные** > **Сущности** и проверьте сущность **ConflationMatchPair**, чтобы убедиться в применении переопределений.</span><span class="sxs-lookup"><span data-stu-id="9240f-303">Go to **Data** > **Entities** and review the **ConflationMatchPair** entity to confirm that the overrides are applied.</span></span>

## <a name="next-step"></a><span data-ttu-id="9240f-304">Следующий шаг</span><span class="sxs-lookup"><span data-stu-id="9240f-304">Next step</span></span>

<span data-ttu-id="9240f-305">После завершения процесса поиска соответствий хотя бы для одной пары соответствия вы можете разрешить возможные противоречия в своих данных, выполнив действия из темы [**Объединение**](merge-entities.md).</span><span class="sxs-lookup"><span data-stu-id="9240f-305">After completing the match process for at least one match pair, you may resolve possible contradictions in your data by going through the [**Merge**](merge-entities.md) topic.</span></span>


[!INCLUDE[footer-include](../includes/footer-banner.md)]
