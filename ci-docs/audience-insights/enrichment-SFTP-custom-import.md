---
title: Обогащение за счет настраиваемого импорта SFTP
description: Общие сведения об обогащении настраиваемого импорта SFTP.
ms.date: 04/09/2021
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: how-to
author: jodahlMSFT
ms.author: jodahl
manager: shellyha
ms.openlocfilehash: 042558af801a1d1fc365939d9aa42c09b98b2679
ms.sourcegitcommit: 50d32a4cab01421a5c3689af789e20857ab009c4
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/03/2022
ms.locfileid: "8376616"
---
# <a name="enrich-customer-profiles-with-custom-data-preview"></a>Обогащение настраиваемого импорта пользовательскими данными (предварительная версия)

Настраиваемый импорт протокола SFTP позволяет импортировать данные, которые не должны проходить процесс объединения данных. Это гибкий, безопасный и простой способ ввода ваших данных. Настраиваемый импорт SFTP можно использовать в сочетании с [экспортом SFTP](export-sftp.md), что позволяет экспортировать данные профилей клиентов, необходимые для обогащения. Затем данные можно обрабатывать и обогащать, а настраиваемый импорт SFTP можно использовать для возврата обогащенных данных в аналитику аудитории Dynamics 365 Customer Insights.

## <a name="prerequisites"></a>Предварительные условия

Для настройки настраиваемого импорта SFTP должны быть соблюдены следующие предварительные условия:

- У вас есть имя файла и расположение (путь) файла, который нужно импортировать на узле SFTP.
- Eсть файл *model.json*, который указывает [схему Common Data Model](/common-data-model/) для импортируемых данных. Этот файл должен находиться в том же каталоге, что и импортируемый файл.
- Подключение SFTP уже настроено администратором *или* у вас есть разрешения [администратора](permissions.md#admin). Вам потребуются учетные данные пользователя, URL-адрес и номер порта для расположения SFTP, из которого вы хотите импортировать данные.


## <a name="configure-the-import"></a>Настройка импорта

1. Перейдите в раздел **Данные** > **Обогащение** и выберите вкладку **Обнаружить**.

1. На плитке **Пользовательский импорт по протоколу SFTP** выберите **Обогатить данные**, затем выберите **Начать**.

   :::image type="content" source="media/SFTP_Custom_Import_tile.png" alt-text="Плитка настраиваемого импорта SFTP.":::

1. Выберите [подключение](connections.md) из раскрывающегося списка. Свяжитесь с администратором, если подключение недоступно. Если вы администратор, вы можете создать соединение, выбрав **Добавить подключение** и выбрав **Настраиваемый импорт SFTP** из раскрывающегося списка.

1. Выберите **Подключиться к пользовательскому импорту** для подтверждения выбранного подключения.

1.  Выберите **Далее** и введите **Путь** и **Имя файла** файла данных, который вы хотите импортировать.

    :::image type="content" source="media/enrichment-SFTP-path-and-filename.png" alt-text="Снимок экрана при вводе местоположения данных.":::

1. Выберите **Далее** и выберите набор данных о клиенте. Это могут быть как все профили клиентов, так и сегмент.

1. Выберите **Далее** и укажите имя для обогащения и имя для выходной сущности. 

1. Выберите **Сохранить обогащение** после просмотра вашего выбора.

## <a name="configure-the-connection-for-sftp-custom-import"></a>Настройка подключения для пользовательского импорта по протоколу SFTP 

Чтобы настраивать подключения, вы должны быть администратором. Выберите **Добавить подключение** при настройке обогащения *или* перейдите в раздел **Администрирование** > **Подключения** и выберите **Настроить** на плитке пользовательского импорта.

1. Введите имя для подключения в поле **Отображаемое имя**.

1. Введите действительное имя пользователя, пароль и URL-адрес узла для SFTP-сервера, на котором находятся импортируемые данные.

1. Изучите и предоставьте свое согласие на **Конфиденциальность данных и соответствие**, установив флажок **Принимаю**.

1. Выберите **Проверить** для проверки конфигурации.

1. После завершения проверки соединение можно сохранить, выбрав **Сохранить**.

   > [!div class="mx-imgBorder"]
   > ![Страница настройки подключения Experian.](media/enrichment-SFTP-connection.png "Страница настройки подключения Experian")


## <a name="defining-field-mappings"></a>Определение сопоставлений полей 

Каталог, содержащий файл для импорта на сервере SFTP, также должен содержать файл *model.json*. Этот файл определяет схему, используемую для импорта данных. Схема должна использовать [Common Data Model](/common-data-model/), чтобы указать сопоставление полей. Простой пример файла model.json выглядит так:

```
{
    "name": "EnrichmentFromMicrosoft",
    "description": "Model containing data enrichment",
    "entities": [
        {
            "name": "CustomImport",
            "attributes": [
                {
                    "name": "CustomerId",
                    "friendlyName": "Client id",
                    "dataType": "string"
                },
                {
                    "name": "PreferredCity",
                    "friendlyName": "Preferred City for vacation",
                    "dataType": "string"
                },
                {
                    "name": "PreferredTransportation",
                    "friendlyName": "Preferred transportation",
                    "dataType": "string"
                }
            ],
            "annotations": [
                {
                    "name": "c360:PrimaryKey",
                    "value": "CustomerId"
                }
            ]
        }
    ],
    "modifiedTime": "2020-01-02T12:00:00+08:00",
    "annotations": [
        {
            "name": "testAnnotation",
            "value": "testValue"
        }
    ]
}
```

## <a name="enrichment-results"></a>Результаты обогащения

Чтобы начать процесс обогащения, выберите **Выполнить** на панели команд. Вы также можете позволить системе запускать обогащение автоматически как часть [запланированного обновления](system.md#schedule-tab). Время обработки будет зависеть от объема импортируемых данных и подключения к серверу SFTP.

После завершения процесса обогащения вы можете просмотреть свои недавно импортированные настраиваемые данные обогащения в разделе **Мои обогащения**. Кроме того, вы найдете время последнего обновления и количество обогащенных профилей.

Вы можете получить доступ к детализированному представлению каждого обогащенного профиля, выбрав **Просмотр обогащенных данных**.

## <a name="next-steps"></a>Дальнейшие действия

[!INCLUDE [next-steps-enrichment](../includes/next-steps-enrichment.md)]

[!INCLUDE[footer-include](../includes/footer-banner.md)]
