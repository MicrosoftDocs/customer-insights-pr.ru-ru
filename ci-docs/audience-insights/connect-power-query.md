---
title: Прием данных через соединитель Power Query
description: Соединители для источников данных на основе Power Query.
ms.date: 09/29/2020
ms.reviewer: adkuppa
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: 8a170cc5b64b4b383501021232c83948e838a0e2
ms.sourcegitcommit: cf9b78559ca189d4c2086a66c879098d56c0377a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/03/2020
ms.locfileid: "4406743"
---
# <a name="connect-to-a-power-query-data-source"></a>Подключение к источникам данных Power Query

Power Query предлагает широкий набор соединителей для приема данных. Большинство этих соединителей поддерживаются Dynamics 365 Customer Insights. Добавление источников данных на основе соединителей Power Query обычно выполняется в соответствии с шагами, описанными в следующем разделе. Однако в зависимости от используемого соединителя требуется различная информация. Для получения дополнительной информации см. документацию по отдельным соединителям в разделе [Справочник по соединителям Power Query](https://docs.microsoft.com/power-query/connectors/).

## <a name="create-a-new-data-source"></a>Создание нового источника данных

1. В аналитике аудитории перейдите **Данные** > **Источники данных**.

1. Выберите **Добавить источник данных**.

1. Выберите метод **Импорт данных** и выберите **Далее**.

1. Укажите **Имя** для источника данных и выберите **Далее** для создания источника данных.

1. Выберите один из [доступных соединителей](#available-power-query-data-sources). В этом примере мы выбираем соединитель **Текст/CSV**.

1. Введите необходимые данные в поле **Параметры соединения** для выбранного соединителя и выберите **Далее** для предварительного просмотра данных.

1. Выберите **Преобразовать данные**. На этом этапе в источник данных будут добавлены сущности. Сущности — это наборы данных. Если у вас есть база данных, которая включает в себя несколько наборов данных, каждый набор данных является своей собственной сущностью.

1. Диалог **Power Query — изменение запросов** позволяет просматривать и уточнять данные. Сущности, идентифицированные системами в выбранном источнике данных, отображаются на левой панели.

   > [!div class="mx-imgBorder"]
   > ![Диалог изменения запросов](media/data-manager-configure-edit-queries.png "Диалог изменения запросов")

1. Также можно преобразовать ваши данные. Выберите сущность для изменения или преобразования. Используйте параметры в окне Power Query, чтобы применить преобразования. Каждое преобразование перечисляется в разделе **Примененные шаги**. Power Query предоставляет множество встроенных вариантов преобразования. Дополнительные сведения см. в разделе [Преобразования Power Query](https://docs.microsoft.com/power-query/power-query-what-is-power-query#transformations).

1. Вы можете добавить дополнительные сущности в источник данных, выбрав **Получить данные** в диалоге **Изменить запросы**.

   Следующие преобразования настоятельно рекомендуются:

   - Если вы принимаете данные из файла CSV, первая строка часто содержит заголовки. Перейдите в раздел **Таблица преобразования** и выберите **Использовать заголовки как первую строку**.
   - Убедитесь, что тип данных установлен правильно.

1. Выберите **Сохранить** внизу окна Power Query, чтобы сохранить преобразования. После сохранения вы найдете свой источник данных в разделе **Данные** > **Источники данных**.

1. На странице **Источники данных** вы заметите, что новый источник данных находится в состоянии **Обновление**.

## <a name="available-power-query-data-sources"></a>Доступные источники данных Power Query

См. раздел [Справочник по соединителям Power Query](https://docs.microsoft.com/power-query/connectors/) для получения актуального списка соединителей, которые можно выбрать для импорта данных в Customer Insights. 

Соединители, отмеченные галочкой в столбце **Customer Insights (потоки данных)**, доступны для создания новых источников данных на основе Power Query. Изучите документацию по конкретному соединителю, чтобы узнать больше о его обязательных требованиях, ограничениях и других деталях.

## <a name="edit-power-query-data-sources"></a>Изменение источников данных Power Query

> [!NOTE]
> Возможно, не удастся внести изменения в источники данных, которые в настоящее время используются в одном из процессов приложения (например, *сегментация*, *сопоставление* или *слияние*). 
>
> Используя страницу **Настройки**, можно отслеживать ход выполнения каждого из активных процессов. Когда процесс завершается, вы можете вернуться на страницу **Источники данных** и внести изменения.

1. В аналитике аудитории перейдите **Данные** > **Источники данных**.

2. Выберите вертикальное многоточие рядом с источник данных, который вы хотите изменить, и выберите **Изменить** из раскрывающегося меню.

   > [!div class="mx-imgBorder"]
   > ![Параметр редактирования](media/edit-option-data-sources.png "Параметр редактирования")

3. Примените свои изменения и преобразования в диалоге **Power Query — изменение запросов**, как описано в разделе [Создание нового источника данных](#create-a-new-data-source).

4. Выберите **Сохранить** в Power Query после завершения редактирования, чтобы сохранить изменения.
