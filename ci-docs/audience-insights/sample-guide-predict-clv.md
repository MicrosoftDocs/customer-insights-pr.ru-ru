---
title: Пример руководства прогноза ценности клиента на протяжении жизненного цикла
description: Воспользуйтесь этим руководством, чтобы опробовать модель прогноза ценности клиента на протяжении жизненного цикла.
ms.date: 05/25/2021
ms.reviewer: mhart
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: yashlundia
ms.author: yalundia
manager: shellyha
ms.openlocfilehash: 19c1fbadb79ba22c0dc11aa7c3b5b2415add70a7
ms.sourcegitcommit: 0b754d194d765afef70d1008db7b347dd1f0ee40
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/24/2021
ms.locfileid: "6306365"
---
# <a name="customer-lifetime-value-clv-prediction-sample-guide"></a>Пример руководства прогноза ценности клиента на протяжении жизненного цикла (CLV)

Это руководство объяснит вам от начала до конца пример прогноза ценности клиента на протяжении жизненного цикла (CLV) в Customer Insights с использованием примеров данных.

## <a name="scenario"></a>Сценарий

Contoso — компания, производящая качественный кофе и кофемашины. Они продают товары через свой веб-сайт Contoso Coffee. Компания хочет понять ценность (доход), которую их клиенты могут создать в следующие 12 месяцев. Знание ожидаемой ценности своих клиентов в следующие 12 месяцев поможет им направить свои маркетинговые усилия на высокоценных клиентов.

## <a name="prerequisites"></a>Предварительные условия

- По меньшей мере [разрешения участника](permissions.md) в аналитике аудитории.
- Мы рекомендуем вам выполнить следующие шаги [в новой среде](manage-environments.md).

## <a name="task-1---ingest-data"></a>Задача 1. Прием данных

Просмотрите статьи [о приеме данных](data-sources.md) и [импорту источников данных с помощью соединителей Power Query](connect-power-query.md). Следующая информация предполагает, что вы в целом ознакомились с приемом данных.

### <a name="ingest-customer-data-from-ecommerce-platform"></a>Получение данных о клиентах с платформы eCommerce

1. Создайте источник данных с именем **eCommerce**, выберите вариант импорта и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для контактов eCommerce [https://aka.ms/ciadclasscontacts](https://aka.ms/ciadclasscontacts).

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **DateOfBirth**: дата
   - **CreatedOn**: дата/время/часовой пояс

   :::image type="content" source="media/ecommerce-dob-date.PNG" alt-text="Преобразовать дату рождения в дату.":::

1. В поле "Имя" на правой панели переименуйте свой источник данных с **Query** на **eCommerceContacts**.

1. **Сохраните** источник данных.

### <a name="ingest-online-purchase-data"></a>Получение данных о покупках в Интернете

1. Добавьте другой набор данных к тому же источнику данных **eCommerce**. Снова выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для данных **Интернет-покупки** https://aka.ms/ciadclassonline.

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **PurchasedOn**: дата/время
   - **TotalPrice**: валюта

1. В поле **Имя** на боковой панели переименуйте свой источник данных с **Query** на **eCommercePurchases**.

1. **Сохраните** источник данных.

### <a name="ingest-customer-data-from-loyalty-schema"></a>Получение данных о клиентах из схемы лояльности

1. Создайте источник данных с именем **LoyaltyScheme**, выберите вариант импорта и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для контактов eCommerce https://aka.ms/ciadclasscustomerloyalty.

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **DateOfBirth**: дата
   - **RewardsPoints**: целое число
   - **CreatedOn**: дата/время

1. В поле **Имя** на правой панели переименуйте свой источник данных с **Query** на **loyCustomers**.

1. **Сохраните** источник данных.

### <a name="ingest-customer-data-from-website-reviews"></a>Получение данных о клиентах из отзывов веб-сайтов

1. Создайте источник данных с именем **Website**, выберите вариант импорта и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для контактов eCommerce https://aka.ms/CI-ILT/WebReviews.

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:

   - **ReviewRating**: десятичное число
   - **ReviewDate**: дата

1. В поле "Имя" на правой панели переименуйте свой источник данных из **Запроса** на **Отзывы**.

1. **Сохраните** источник данных.

## <a name="task-2---data-unification"></a>Задача 2. Унификация данных

После приема данных мы начинаем процесс объединения данных для создания единого профиля клиента. Дополнительные сведения см. в разделе [Унификация данных](data-unification.md).

### <a name="map"></a>Сопоставление

1. После приема данных сопоставьте контакты из данных eCommerce и лояльности с общими типами данных. Перейдите **Данные** > **Унификация** > **Сопоставление**.

1. Выберите сущности, которые представляют профиль клиента — **eCommerceContacts** и **loyCustomers**. Затем выберите **Применить**.

   ![унифицировать источники данных ecommerce и лояльности.](media/unify-ecommerce-loyalty.png)

1. Выберите **ContactId** как первичный ключ для **eCommerceContacts**, а **LoyaltyID** как первичный ключ для **loyCustomers**.

   ![Унифицируйте LoyaltyId как первичный ключ.](media/unify-loyaltyid.png)

1. Нажмите кнопку **Сохранить**.

### <a name="match"></a>Соответствие

1. Перейдите на вкладку **Совпадение** и выберите **Задать порядок**.

1. В раскрывающемся списке **Основной** выберите **eCommerceContacts : eCommerce** как основной источник и включите все записи.

1. В раскрывающемся списке **Сущность 2** , выберите **loyCustomers : LoyaltyScheme** и включите все записи.

   ![Унифицировать совпадение eCommerce и лояльности.](media/unify-match-order.png)

1. Выберите **Добавить правило**.

1. Добавьте свое первое условие, используя FullName.

   - Для eCommerceContacts выберите **FullName** в раскрывающемся списке.
   - Для loyCustomers выберите **FullName** в раскрывающемся списке.
   - Выберите раскрывающийся список **Нормализовать** и выберите **Тип (телефон, имя, адрес, ...)**.
   - Задайте **Уровень точности**: **Базовый** и **Значение**: **Высоко**.

1. Введите имя **FullName, Email** для нового правила.

   - Добавьте второе условие для адреса электронной почты, выбрав **Добавить условие**
   - Для сущности eCommerceContacts выберите **EMail** в раскрывающемся списке.
   - Для сущности loyCustomers выберите **EMail** в раскрывающемся списке.
   - Оставьте поле "Нормализация" пустым.
   - Задайте **Уровень точности**: **Базовый** и **Значение**: **Высоко**.

   ![Унифицировать правило совпадения для имени и электронной почты.](media/unify-match-rule.png)

1. Нажмите кнопку **Готово**.

1. Выберите **Сохранить** и **Выполнить**.

### <a name="merge"></a>Объединение

1. Перейдите на вкладку **Объединение**.

1. В **ContactId** для сущности **loyCustomers** измените отображаемое имя на **ContactIdLOYALTY**, чтобы отличить его от других полученных идентификаторов.

   ![Переименовать contactid из идентификатора лояльности.](media/unify-merge-contactid.png)

1. Выберите **Сохранить** и **Выполнить объединение и нисходящие процессы**.

## <a name="task-3---configure-customer-lifetime-value-prediction"></a>Задача 3. Настройка прогноза ценности клиента на протяжении жизненного цикла

Имея единые профили клиентов, теперь мы можем определять прогноз ценности клиента на протяжении жизненного цикла. Подробные инструкции см. в [Прогноз ценности клиента на протяжении жизненного цикла (предварительная версия)](predict-customer-lifetime-value.md).

1. Перейдите **Аналитика**  > **Прогнозы** и выберите **Модель ценности клиента на протяжении жизненного цикла**.

1. Просмотрите информацию на боковой панели и выберите **Начать**.

1. Назовите модель **Прогноз OOB eCommerce CLV** и выходную сущность **OOBeCommerceCLVPrediction**.

1. Определите параметры модели для модели CLV:
   - **Период прогнозирования**: **12 месяцев или 1 год**. Этот параметр определяет, насколько далеко в будущем можно прогнозировать ценность клиента на протяжении жизненного цикла.
   - **Активные клиенты**: укажите, что активные клиенты значат для вашего бизнеса. Установите исторический интервал времени, в котором у клиента должна быть хотя бы одна транзакция, чтобы считаться активным. Модель будет прогнозировать CLV только для активных клиентов. Выберите между разрешением модели рассчитывать период времени на основе исторических данных транзакций или укажите конкретный интервал времени. В этом руководстве мы **позволим модели рассчитать интервал покупки**, который используется по умолчанию.
   - **Ценные клиенты**: определите ценных клиентов как процентиль самых платящих клиентов. Модель использует эти входные данные для получения результатов, которые соответствуют вашему бизнес-определению ценных клиентов. Можно разрешить модели определять ценных клиентов. Она использует эвристическое правило, которое вычисляет процентиль. Также можно задать ценных клиентов как процентиль будущих самых платящих клиентов. В этом руководстве мы вручную определяем ценных клиентов как **первые 30% активных платящих клиентов** и выбираем **Далее**.

    :::image type="content" source="media/clv-model-preferences.png" alt-text="Шаг настроек в управляемом взаимодействии для модели CLV.":::

1. На шаге **Необходимые данные** шаг, выберите **Добавить данные** для предоставления данных истории транзакций.

1. Добавьте сущность **eCommercePurchases: eCommerce** и сопоставьте атрибуты, которые требуются модели:
   - Идентификатор транзакции: eCommerce.eCommercePurchases.PurchaseId
   - Дата транзакции: eCommerce.eCommercePurchases.PurchasedOn
   - Сумма транзакции: eCommerce.eCommercePurchases.TotalPrice
   - Идентификатор продукта: eCommerce.eCommercePurchases.ProductId

1. Выберите **Далее**.

1. Установите связь между сущностью **eCommercePurchases: eCommerce** и **eCommerceContacts : eCommerce**.

1. На шаге **Дополнительные данные (необязательно)** можно добавить дополнительные данные о действиях клиентов. Эти данные могут помочь получить больше информации о взаимодействии клиентов с вашим бизнесом, что может способствовать CLV. Добавление ключевых взаимодействий с клиентами, таких как веб-журналы, журналы обслуживания клиентов или история программы вознаграждений, может повысить точность прогнозов. Выберите **Добавить данные**, чтобы включить больше данных о действиях клиентов.

1. Добавьте сущность действий клиента и сопоставьте имена ее полей с соответствующими полями, необходимыми для модели:
   - Сущность действий клиентов: Reviews:Website
   - Первичный ключ: Website.Reviews.ReviewId
   - Отметка времени: Website.Reviews.ReviewDate
   - Событие (название действия): Website.Reviews.ActivityTypeDisplay
   - Сведения (сумма или значение): Website.Reviews.ReviewRating

1. Выберите **Далее** и настройте действие и взаимосвязь между данными транзакции и данными клиента:  
   - Тип действия: Choose existing
   - Метка действия: Review
   - Соответствующая метка: Website.Reviews.UserId
   - Сущность клиента: eCommerceContacts:eCommerce
   - Отношение: WebsiteReviews

1. Выберите **Далее**, чтобы задать расписание модели.

   Модель должна регулярно обучаться, чтобы изучать новые закономерности при поступлении новых данных. В этом примере выберите **Ежемесячно**.

1. Изучив все сведения, выберите **Сохранить и выполнить**.

## <a name="task-4---review-model-results-and-explanations"></a>Задача 4. Обзор результатов модели и объяснения

Дайте модели завершить обучение и оценку данных. Затем вы можете просмотреть результаты и объяснения модели CLV. Для получения дополнительной информации см. [Просмотр статуса прогноза и результатов](predict-customer-lifetime-value.md#review-prediction-status-and-results).

## <a name="task-5---create-a-segment-of-high-value-customers"></a>Задача 5. Создание сегмента ценных клиентов

Запуск модели создает новую сущность, которая указана в **Данные** > **Сущности**. Вы можете создать новый сегмент клиентов на основе сущности, созданной моделью.

1. Перейдите **Сегменты**. 

1. Выберите **Создать** и выберите **Создать из** > **Аналитика**.

   ![Создание сегмента с выходом модели.](media/segment-intelligence.png)

1. Выберите сущность **OOBeCommerceCLVPrediction** и определите сегмент:
  - Поле: CLVScore
  - Оператор: больше
  - Значение: 1500

1. Выберите **Проверить** и **Сохранить** сегмент.

Теперь у вас есть сегмент, который определяет клиентов, которые, по прогнозам, принесут более 1500 долларов США дохода в следующие 12 месяцев. Этот сегмент обновляется динамически, если загружается больше данных.

Дополнительные сведения см. в разделе [Создание сегментов и управление ими](segments.md).
