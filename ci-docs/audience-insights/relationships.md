---
title: Отношения между сущностями и путями сущностей
description: Создавайте и управляйте отношениями между сущностями из нескольких источников данных.
ms.date: 04/14/2020
ms.reviewer: mukeshpo
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: m-hartmann
ms.author: mhart
manager: shellyha
ms.openlocfilehash: 295c372bb452e7c40aa950506dc494d4a2de1108
ms.sourcegitcommit: cf9b78559ca189d4c2086a66c879098d56c0377a
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 11/03/2020
ms.locfileid: "4406765"
---
# <a name="relationships-between-entities"></a>Отношения между сущностями

Отношения помогает связывать сущности и генерировать график ваших данных, когда сущности имеют общий идентификатор (внешний ключ), с помощью которого можно ссылаться из одной сущности на другую. Связанные сущности позволяют определять сегменты и меры на основе нескольких источников данных.

Существует два типа отношений. Недоступные для редактирования системные отношения, которые создаются автоматически, и пользовательские отношения, создаваемые и настраиваемые пользователями.

Во время процессов поиска соответствия и слияния системные отношения создаются за кулисами на основе интеллектуального сопоставления. Эти отношения помогают связать записи профиля клиента с записями других соответствующих сущностей. Следующая диаграмма иллюстрирует создание трех системных отношений, когда сущность клиента сопоставляется с дополнительными сущностями для создания конечной сущности профиля клиента.

> [!div class="mx-imgBorder"]
> ![Создание отношения](media/relationships-entities-merge.png "Создание отношения")

- **Отношение *CustomerToContact*** было создан между сущностью «Клиент» и сущностью «Контакт». Сущность клиента получает ключевое поле **Contact_contactId** для связи с ключевым полем сущности контакта **ContactId**.
- **Отношение _CustomerToAccount_** было создан между сущностью «Клиент» и сущностью «Организация». Сущность клиента получает ключевое поле **Account_accountId** для связи с ключевым полем сущности организации **accountId**.
- **Отношение _CustomerToWebAccount_** было создан между сущностью «Клиент» и сущностью «WebAccount». Сущность клиента получает ключевое поле **WebAccount_webaccountId** для связи с ключевым полем сущности WebAccount **webaccountId**.

## <a name="create-a-relationship"></a>Создание отношения

Определите пользовательские отношения на странице **Отношения**. Каждое отношение состоит из исходной сущности (сущности, которая содержит внешний ключ) и целевой сущности (сущности, на которую указывает внешний ключ исходной сущности).

1. В аналитике аудитории перейдите **Данные** > **Отношения**.

2. Выберите **Создать отношение**.

3. В области **Добавить отношение** укажите следующие сведения:

   > [!div class="mx-imgBorder"]
   > ![Ввод сведений об отношении](media/relationships-add.png "Ввод сведений об отношении")

   - **Имя отношения**: имя, которое отражает цель отношения (например, **AccountWebLogs**).
   - **Описание**: описание отношения.
   - **Исходная сущность**: выберите сущность, которая используется в качестве источника в отношении (например, WebLog).
   - **Кратность**: выберите кратность записей исходной сущности. Например, "много" означает, что несколько записей Weblog связаны с одной записью WebAccount.
   - **Исходное ключевое поле**: представляет поле внешнего ключа в исходной сущности. Например, WebLog имеет поле внешнего ключа **accountId**.
   - **Целевая сущность**: выберите сущность, которая используется в качестве цели в отношении (например, WebAccount).
   - **Кратность целевого объекта**: выберите кратность записей целевой сущности. Например, "один" означает, что несколько записей Weblog связаны с одной записью WebAccount.
   - **Целевое ключевое поле**: это поле представляет ключевое поле целевой сущности. Например, WebAccount имеет ключевое поле **accountId**.

> [!NOTE]
> Поддерживаются только отношения многие-к-одному и один-к-одному. Отношения "многие-ко-многим" могут быть созданы с использованием двух отношений "многие-к-одному" и промежуточной сущности (сущности, которая используется для соединения исходной и целевой сущностей).

## <a name="delete-a-relationship"></a>Удаление отношения

1. В аналитике аудитории перейдите **Данные** > **Отношения**.

2. Установите флажки для всех отношений, которые требуется удалить.

3. Выберите **Удалить** вверху таблицы **Отношения**.

4. Подтвердите удаление.

## <a name="next-step"></a>Следующий шаг

Системные и пользовательские отношения используются для создания сегментов на основе нескольких источников данных, которые больше не обособлены. Дополнительные сведения см. в разделе [Сегменты](segments.md).
