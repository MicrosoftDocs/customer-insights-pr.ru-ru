---
title: Прогноз рекомендации продуктов
description: Прогнозируйте продукты, которые покупатель, скорее всего, купит или с которыми будет взаимодействовать.
ms.date: 03/17/2021
ms.reviewer: mhart
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: conceptual
author: zacookmsft
ms.author: zacook
manager: shellyha
ms.openlocfilehash: 01704f78cfe1f6ceeee19ff825fc65150894d4ed
ms.sourcegitcommit: 6b07c9c3102761be162e4842f3c9fbc19f948a9b
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/25/2021
ms.locfileid: "6095572"
---
# <a name="product-recommendation-prediction-preview"></a>Прогноз рекомендации продуктов (предварительная версия)

Модель рекомендаций продуктов создает наборы прогнозных рекомендаций по продуктам. Рекомендации основаны на предыдущем покупательском поведении и на покупателях с похожими моделями покупок. Вы можете создавать прогнозы рекомендаций по продукту на странице **Аналитика** > **Прогнозы**. Выбрать **Мои прогнозы**, чтобы увидеть другие прогнозы, которые вы создали.

Рекомендации по продуктам могут регулироваться местными законами и постановлениями, а также ожиданиями клиентов, которые модель специально не учитывает.  Как пользователь этой возможности прогнозирования, **вы должны ознакомиться с рекомендациями, прежде чем передавать их своим клиентам**, чтобы убедиться, что вы соблюдаете все действующие законы или постановления, а также удовлетворяете ожиданиям клиентов в отношении того, что вы можете порекомендовать. 

Кроме того, результаты этой модели предоставят вам рекомендации на основе артикула. Вашему механизму доставки необходимо будет сопоставить прогнозируемые идентификаторы продуктов с соответствующим контентом для ваших клиентов, чтобы учесть локализацию, контент изображений и другой бизнес-контент или поведение.

## <a name="sample-guide"></a>Пример

Если вы хотите попробовать эту функцию, но у вас нет данных для выполнения приведенных ниже требований, вы можете [создать пример реализации](sample-guide-predict-product-recommendation.md).

## <a name="prerequisites"></a>Предварительные условия

- По крайней мере [разрешения участника](permissions.md) в Customer Insights.

- Знания о бизнесе, чтобы понимать различные типы продуктов для вашего бизнеса и то, как ваши клиенты взаимодействуют с ними. Мы поддерживаем рекомендации продуктов, которые ранее были приобретены вашими клиентами, или рекомендации по новым продуктам.

- Данные о ваших транзакциях, покупках и их история:
    - Идентификаторы транзакций для различения покупок или транзакций.
    - Идентификаторы клиентов для сопоставления транзакций с вашими клиентами.
    - Даты событий транзакции, которые определяют даты, когда транзакция произошла.
    - Информация об идентификаторе продукта для транзакции.
    - (Необязательно) Сущность данных каталога продуктов для использования фильтра продуктов.
    - (Необязательно) Транзакция является возвратом или нет.
    - Схема семантических данных требует следующей информации:
        - **Идентификатор транзакции:** уникальный идентификатор покупки или транзакции.
        - **Дата транзакции:** дата покупки или транзакции.
        - **Ценность транзакции:** числовое значение покупки или транзакции.
        - **Уникальный код продукта:** идентификатор приобретенного продукта или услуги, если ваши данные находятся на уровне позиции.
        - (Необязательно) **Покупка или возврат:** логическое поле, в котором значение *true* указывает, что транзакция была возвратом. Если данные о покупке или возврате не предоставлены, модель и **Сумма проводки** отрицательная, мы также будем использовать эту информацию, чтобы сделать вывод о возврате.
- Предлагаемые характеристики данных:
    - Достаточно исторических данных: данные о транзакциях по крайней мере за один год, предпочтительно за два-три года с учетом сезонности.
    - Несколько покупок на одного покупателя: три или более транзакций на один идентификатор клиента
    - Количество клиентов: не менее 100 клиентов, предпочтительно более 10 000 клиентов. Модель потерпит неудачу с менее чем 100 клиентами.

> [!NOTE]
> - Для модели требуется история транзакций ваших клиентов. Определение транзакции довольно гибкое. Любые данные, описывающие взаимодействие пользователя с продуктом, могут работать как входные. Например, покупка продукта, посещение урока или мероприятия.
> - В настоящее время можно настроить только одну сущность истории транзакций. Если существует несколько сущностей покупки, объедините их в Power Query перед приемом данных.
> - Если заказ и детали заказа являются разными сущностями, объедините их перед использованием в модели. Модель не работает только с идентификатором заказа или идентификатором квитанции в сущности.


## <a name="create-a-product-recommendation-prediction"></a>Создание прогноза рекомендации продуктов

1. В Customer Insights перейдите в раздел **Аналитика** > **Прогнозы**.

1. Выберите плитку **Модель рекомендации продуктов (предварительная версия)** и выберите **Использовать эту модель**.
   > [!div class="mx-imgBorder"]
   > ![Плитка модели рекомендации продуктов с кнопкой "Использовать эту модель"](media/product-recommendation-usethismodel.PNG "Плитка модели рекомендации продуктов с кнопкой &quot;Использовать эту модель&quot;")

1. Ознакомьтесь с информацией о требованиях к модели. Если у вас есть необходимые данные, выберите **Начать**.

### <a name="name-model"></a>Задание имени модели

1. Укажите название модели, чтобы отличать ее от других моделей.

1. Введите имя сущности выходных данных, используя только буквы и цифры, без пробелов. Это имя, которое будет использовать сущность модели. Затем выберите **Далее**.

### <a name="define-product-recommendation-configuration"></a>Определите конфигурацию рекомендации продукта

1. Задайте **Количество продуктов**, которые вы хотите порекомендовать покупателю. Это значение зависит от того, как ваш метод доставки заполняет данные. Если вы можете порекомендовать три продукта, установите это значение соответственно.
   
   >[!TIP]
   > Вы можете выбрать **Сохранить и закрыть** в любое время, чтобы сохранить прогноз как черновик. Вы найдете черновик прогноза на вкладке **Мои прогнозы**.

1. Выберите, хотите ли вы **Предлагать товары, которые клиенты недавно приобрели**.

1. Если вы выбрали *не* рекомендовать недавно приобретенные продукты, установите **Окно ретроспективного обзора**. Этот параметр указывает интервал времени, который модель учитывает, прежде чем снова рекомендовать продукт пользователю. Например, укажите, что клиент покупает ноутбук каждые два года. В этом окне будет просматриваться история покупок за последние два года, и если товар будет найден, он будет отфильтрован из рекомендаций.

1. Выберите **Далее**

### <a name="add-required-data"></a>Добавление необходимых данных

1. Выберите **Добавить данные** для **История транзакций клиента** и выберите сущность, которая предоставляет информацию об истории транзакций/покупок, как описано в [необходимых условиях](#prerequisites).

1. Сопоставьте семантические поля с атрибутами в сущности истории покупок и выберите **Далее**. Описания полей см. в [необходимые условия](#prerequisites).
   > [!div class="mx-imgBorder"]
   > ![Определение отношения сущности](media/product-recommendation-purchasehistorymapping.PNG "Страница истории покупок, показывающая семантические атрибуты, сопоставленные с полями в выбранной сущности истории покупок")

1. Если поля не заполнены, настройте связь между сущностью истории покупок и сущностью *Клиент*.
    1. Выберите **Сущность истории покупок**.
    1. Выберите **Поле**, которое идентифицирует покупателя в сущности истории покупок. Это должно относиться к первичному идентификатору клиента вашей сущности *Клиент*.
    1. Выберите **Сущность клиента**, которая соответствует вашей первичной сущности клиента.
    1. Введите Имя, описывающее связь.
       > [!div class="mx-imgBorder"]
       > ![Страница истории покупок, показывающая создание отношения с клиентом](media/model-purchase-join.png "Страница истории покупок, показывающая создание отношения с клиентом")

1. Нажмите кнопку **Сохранить**.

1. Выберите **Далее**.

### <a name="configure-product-filters"></a>Настройка фильтров товаров

Иногда только определенные продукты полезны или подходят для типа прогноза, который вы создаете. Фильтры продуктов позволяют идентифицировать подмножество продуктов с конкретными характеристиками, чтобы рекомендовать их своим клиентам. Модель будет использовать все доступные продукты для изучения шаблонов, но в выводе будут использоваться только продукты, соответствующие фильтру продуктов.

1. На шаге **Добавить информацию о продукте** добавьте свой каталог продуктов с информацией для каждого продукта. Сопоставьте необходимую информацию и выберите **Далее**.

3. На шаге **Фильтры продуктов** выберите один из следующих вариантов.

   * **Без фильтров**: использовать все продукты, указанные в прогнозе рекомендаций продуктов.

   * **Определите фильтры определенных товаров**: используйте определенные товары в прогнозе рекомендаций по продуктам.

1. Выберите **Далее**.

1. Если вы решили определить фильтр продукта, вам нужно определить его сейчас. В области **Атрибуты каталога товаров** выберите атрибуты из вашей *сущности каталога товаров*, которую вы хотите включить в фильтр.

   :::image type="content" source="media/product-filters-sidepane.png" alt-text="Боковая панель, показывающая атрибуты в сущности каталога продуктов для выбора для фильтров продуктов.":::

1. Выберите, хотите ли вы, чтобы фильтр продуктов использовал **и** или **или** для логического объединения выбранных вами атрибутов из каталога продуктов.
   
   :::image type="content" source="media/product-filters-sample.png" alt-text="Пример конфигурации фильтров товаров в сочетании с логическими соединителями И.":::

1. Выберите **Далее**.

### <a name="set-update-schedule-and-review-configuration"></a>Настройка расписания обновлений и проверка конфигурации

1. Установите частоту для повторного обучения вашей модели. Этот параметр важен для обновления точности прогнозов при импорте новых данных в Customer Insights. Большинство предприятий могут проходить повторного обучения один раз в месяц и получать точные прогнозы.

1. Выберите **Далее**.

1. Просмотрите конфигурацию. Вы можете вернуться к любой части конфигурации прогнозирования, выбрав **редактировать** под показанным значением. Или вы можете выбрать шаг конфигурации из индикатора прогресса.

1. Если все значения настроены правильно, выберите **Сохранить и выполнить**, чтобы начать процесс прогнозирования. На вкладке **Мои прогнозы** вы можете увидеть статус ваших прогнозов. Процесс может занять несколько часов в зависимости от объема данных, используемых в прогнозе.

## <a name="review-a-prediction-status-and-results"></a>Просмотрите статус прогноза и результаты

1. Перейти к вкладка **Мои прогнозы** на **Аналитика** > **Прогнозы**.
   > [!div class="mx-imgBorder"]
   > ![Просмотр страницы «Мои прогнозы»](media/product-recommendation-mypredictions.PNG "Просмотр страницы «Мои прогнозы»")

1. Выберите прогноз, который нужно проверить.
   - **Имя прогноза:** имя прогноза предоставляется при его создании.
   - **Тип прогноза:** тип модели, используемой для прогноза
   - **Выходная сущность:** имя сущности для хранения выходных данных прогноза. Вы можете найти сущность с этим именем на **Данные** > **Сущности**.    
      *Оценка* в выходной сущности — это количественная мера рекомендации. Модель рекомендует продукты с более высокой оценкой по сравнению с продуктами с более низкой оценкой.
   - **Прогнозируемое поле:** это поле заполняется только для некоторых типов прогнозов и не используется в прогнозе рекомендаций продуктов.
   - **Статус:** текущее состояние выполнения прогноза.
        - **Поставлено в очередь:** прогноз в настоящее время ожидает выполнения других процессов.
        - **Обновление:** прогноз в настоящее время выполняет этап обработки «оценка» для получения результатов, которые будут поступать в выходную сущность.
        - **Не удалось:** прогноз не удался. Выберите **Журналы** для получения дополнительных сведений.
        - **Выполнено успешно:** прогноз выполнен успешно. Выбрать **Посмотреть** под вертикальным многоточием, чтобы рассмотреть прогноз
   - **Изменено:** дата, когда конфигурация для прогноза была изменена.
   - **Последнее обновление:** дата обновления прогноза приводит к выходной сущности.

1. Выберите вертикальное многоточие рядом с прогнозом, для которого вы хотите просмотреть результаты, и выберите **Посмотреть**.
   > [!div class="mx-imgBorder"]
   > ![Просмотр параметров в меню вертикального многоточия для прогноза, включая изменение, обновление, просмотр, журналы и удаление](media/product-recommendation-verticalellipses.PNG "Просмотр параметров в меню вертикального многоточия для прогноза, включая изменение, обновление, просмотр, журналы и удаление")

1. На странице результатов есть пять основных разделов данных:
    1. **Производительность модели обучения:** A, B или C являются возможными оценками. Эта оценка указывает на производительность прогноза и может помочь вам принять решение об использовании результатов, сохраненных в выходной сущности.
        - Результаты определяются на основе следующих правил:
            - **А** — Модель будет рассматривать качество **А**, если показатель метрики «Успех @ K» как минимум на 10% превышает базовый уровень. 
            - **B** — Модель будет рассматривать качество **B**, если показатель метрики "Успех @ K" на 0–10% превышает базовый уровень.
            - **C** — Модель будет рассматривать качество **C**, если показатель метрики "Успех @ K" меньше базового уровня.
               
               > [!div class="mx-imgBorder"]
               > ![Просмотр результата производительности модели](media/product-recommendation-modelperformance.PNG "Просмотр результата производительности модели")
            - **Базовый уровень**: модель берет самые рекомендуемые продукты по количеству покупок для всех клиентов и использует изученные правила, определенные моделью, для создания набора рекомендаций для клиентов. Затем прогнозы сравниваются с лучшими продуктами, рассчитанными по количеству клиентов, купивших продукт. Если у клиента есть хотя бы один продукт в рекомендованных им продуктах, который также был замечен в самых покупаемых продуктах, они считаются частью базового уровня. Если бы было 10 таких клиентов, которые купили рекомендуемый продукт, из 100 всех клиентов, базовый уровень был бы 10%.
            - **Успех @ K**: используя набор проверки периода времени транзакций, рекомендации создаются для всех клиентов и сравниваются с набором проверок транзакций. Например, в 12-месячный период 12-й месяц можно выделить как набор данных для проверки. Если модель предсказывает хотя бы один товар, который вы купили бы в течение 12 месяцев, основываясь на том, что она узнала за предыдущие 11 месяцев, клиент увеличит показатель «Успех @ K».
    
    1. **Самые рекомендуемые продукты (с этикеткой):** пять лучших продуктов, которые были спрогнозированы для ваших клиентов.
       > [!div class="mx-imgBorder"]
       > ![График, показывающий 5 самых рекомендуемых продуктов](media/product-recommendation-topproducts.PNG "График, показывающий 5 самых рекомендуемых продуктов")
    
    1. **Ключевые факторы для рекомендаций:** модель использует историю транзакций клиентов, чтобы давать рекомендации по продуктам. Она изучает схемы, основанные на прошлых покупках, и находит сходство между покупателями и продуктами. Эти сходства затем используются для выработки рекомендаций по продуктам.
    Ниже приведены факторы, которые могут повлиять на рекомендацию продукта, выработанную моделью. 
        - **Прошлые транзакции**: шаблоны покупок в прошлом использовались моделью для выработки рекомендаций по продуктам. Например, модель может порекомендовать _Мышь Surface Arc Mouse_, если кто-то недавно купил _Surface Book 3_ и _Surface Pen_. Модель узнала, что исторически многие клиенты покупали мышь _Surface Arc Mouse_ после покупки _Surface Book 3_ и _Surface Pen_.
        - **Сходство клиентов**: рекомендованный продукт исторически приобретался другими покупателями, у которых были похожие модели покупок. Например, Джону были рекомендованы наушники _Surface Headphones 2_, потому что Дженнифер и Брэд недавно купили наушники _Surface Headphones 2_. Модель считает, что Джон похож на Дженнифер и Брэда, потому что у них исторически были похожие модели покупок.
        - **Сходство товаров**: рекомендуемый продукт аналогичен другим продуктам, приобретенным клиентом ранее. Модель считает два продукта похожими, если они были куплены вместе или похожими покупателями. Например, кто-то получает рекомендацию для _USB-накопителя_, потому что он ранее купил _адаптер USB-C/USB_, и модель считает, что _USB-накопитель_ похож на _Адаптер USB-C/USB_ на основе исторических моделей покупок.

        На каждую рекомендацию по продукту влияет один или несколько из этих факторов. Процент рекомендаций, в которых каждый влияющий фактор сыграл роль, отображается на диаграмме. В следующем примере на 100% рекомендаций повлияли прошлые транзакции, на 60% — схожесть клиентов и на 22% — схожесть продуктов. Наведите указатель мыши на столбцы на диаграмме, чтобы увидеть точный процент влияния влияющих факторов.

        > [!div class="mx-imgBorder"]
        > ![Ключевые факторы для рекомендаций](media/product-recommendation-keyrecommendationfactors.png "Ключевые факторы рекомендаций, изученные моделью для создания рекомендаций по продуктам")
       
     
   1. **Статистика данных**: дает обзор количества транзакций, клиентов и продуктов, рассматриваемых в модели. Он основан на входных данных, которые использовались для изучения шаблонов и выработки рекомендаций по продуктам.

      > [!div class="mx-imgBorder"]
      > ![Статистика данных](media/product-recommendation-datastatistics.png "Статистические данные о внутренних данных, используемых моделью для изучения закономерностей")

      В этом разделе показана статистика по точкам данных, которые использовались моделью для изучения закономерностей и выработки рекомендаций по продуктам. Фильтрация, настроенная в конфигурации модели, будет применяться к выходным данным, созданным моделью. Однако модель использует все доступные данные для изучения закономерностей. Поэтому, если вы используете фильтрацию продуктов в конфигурации модели, в этом разделе будет показано общее количество продуктов, проанализированных моделью для изучения закономерностей, что может отличаться от количества продуктов, соответствующих определенным критериям фильтрации.

   1. **Рекомендации по продуктам с высоким доверительным уровнем:** пример рекомендаций, предоставленных вашим клиентам, которые, по мнению модели, вероятно, будут приобретены клиентом.    
      Если добавлен каталог продуктов, идентификаторы продуктов заменяются названиями продуктов. Названия продуктов предоставляют более действенную и интуитивно понятную информацию о прогнозах.
       > [!div class="mx-imgBorder"]
       > ![Список, показывающий предложения с высоким уровнем достоверности для избранной группы отдельных клиентов](media/product-recommendation-highconfidence.PNG "Список, показывающий предложения с высоким уровнем достоверности для избранной группы отдельных клиентов")

## <a name="manage-predictions"></a>Управляйте прогнозами

Прогнозы можно оптимизировать, устранять неполадки, обновлять или удалять. Просмотрите отчет об удобстве использования входных данных, чтобы узнать, как сделать прогноз более быстрым и надежным. Дополнительные сведения см. в статье [Управляйте прогнозами](manage-predictions.md).


[!INCLUDE[footer-include](../includes/footer-banner.md)]
