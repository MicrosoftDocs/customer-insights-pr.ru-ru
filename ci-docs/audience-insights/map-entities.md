---
title: Сопоставление сущностей и атрибутов для объединения данных
description: Выберите сущности, атрибуты, первичные ключи и семантические типы для сопоставления данных с единым профилем клиента.
ms.date: 10/18/2020
ms.service: customer-insights
ms.subservice: audience-insights
ms.topic: tutorial
author: adkuppa
ms.author: adkuppa
ms.reviewer: mhart
manager: shellyha
searchScope:
- ci-map
ms.openlocfilehash: 8b84ed1a860e383e4eb3f7499be6d397ba3f1db1
ms.sourcegitcommit: 31985755c7c973fb1eb540c52fd1451731d2bed2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/22/2021
ms.locfileid: "7673291"
---
# <a name="map-entities-and-attributes"></a>Сопоставление сущностей и атрибутов

**Сопоставление** — это первый этап процесса унификации данных аналитики аудитории. Сопоставление состоит из трех этапов:

- *Выбор сущностей*: определите комбинированные сущности, которые приводят к набору данных с более полной информацией о ваших клиентах.
- *Выбор атрибутов*: для каждой сущности определите столбцы, которые вы хотите объединить и согласовать на этапах *соответствие* и *объединение*. Эти столбцы называются *Атрибуты*.
- *Выбор первичного ключа и семантического типа*: для каждой сущности определите атрибут, который вы хотите определить как первичный ключ для этой сущности, и для каждого атрибута определите семантический тип, который лучше всего описывает этот атрибут.

Для получения дополнительной информации об общем потоке объединения данных см. раздел [Объединить](data-unification.md).

## <a name="select-the-first-entities"></a>Выбор первых сущностей

1. В аналитике аудитории перейдите **Данные** > **Унификация** > **Сопоставление**.

2. Начните этап сопоставления с выбора пункта **Выбрать сущности**.

3. Выберите сущности и атрибуты, которые вы хотите использовать на фазах *поиск совпадений* и *слияние*. Вы можете выбрать требуемые атрибуты индивидуально из сущности или включить все атрибуты из сущности, установив флажок **Включить все поля** на уровне сущности. Мы рекомендуем выбрать по крайней мере две сущности, чтобы извлечь выгоду из процесса унификации данных.

   > [!div class="mx-imgBorder"]
   > ![Пример добавления сущностей.](media/data-manager-configure-map-add-entities-example.png "Пример добавления сущностей")

   В этом примере мы добавляем сущности **eCommerceContacts** и **loyCustomers**. Выбирая эти сущности, вы можете получить представление о том, какие из бизнес-клиентов в Интернете являются участниками программы лояльности.
   
   Вы можете выполнять поиск по ключевым словам по всем атрибутам и сущностям, чтобы выбрать необходимые атрибуты, которые вы хотите сопоставить.
   
     > [!div class="mx-imgBorder"]
   > ![Пример полей поиска.](media/data-manager-configure-map-search-fields-example.png "Пример полей поиска")

4. Выберите **Применить**, чтобы подтвердить свой выбор.

## <a name="select-primary-key-and-semantic-type-for-attributes"></a>Выбор первичного ключа и семантического типа для атрибутов

После выбора ваших сущностей на странице **Сопоставление** перечислены выбранные сущности для вашего обзора. Определите первичный ключ для сущности и определите семантический тип для атрибута в сущности.

- **Первичный ключ**: выберите один атрибут в качестве первичного ключа для каждой из ваших сущностей. Чтобы атрибут был действительным первичным ключом, он не должен включать повторяющиеся значения, отсутствующие значения или значения NULL. Атрибуты типа данных String, Integer и GUID поддерживаются в качестве первичных ключей и будут отображаться в поле для выбора.

- **Семантический тип атрибута**: категории атрибутов, такие как адрес электронной почты или имя. Чтобы использовать модели ИИ для интеллектуального прогноза семантики, сэкономить время и повысить точность, установите для параметра **Интеллектуальное сопоставление** значение **ВКЛ.** Интеллектуальное сопоставление подчеркивает рекомендации по семантике на основе ИИ в поле **Тип**. Если вы установите для него значение **ВЫКЛ.**, вы увидите наши обычные рекомендации по сопоставлению. Вы можете выбрать любой семантический тип из доступного списка вариантов и переопределить предложенный выбор.

> [!div class="mx-imgBorder"]
> ![Тип атрибута и семантический прогноз.](media/data-manager-configure-map-add-attributes-semantic-prediction.png "Тип атрибута и семантический прогноз")

Также возможно добавление пользовательского семантического типа. Выберите поле типа для атрибута и введите имя пользовательского семантического типа. Таким образом можно также изменить типы атрибутов, которые были идентифицированы системой.

Все атрибуты, для которых автоматически определяется семантический тип, сгруппированы в разделе **Просмотр сопоставленных полей**. Просмотрите эти атрибуты и их семантические типы, потому что они будут использоваться для объединения ваших сущностей на этапе слияния при объединении данных.

Атрибуты, которые не сопоставляются автоматически семантическому типу, группируются в разделе **Определите данные в несопоставленных полях**. Выберите поле семантического типа для несопоставленных атрибутов или введите имя настраиваемого типа атрибута.

> [!div class="mx-imgBorder"]
> ![Первичный ключ и тип атрибута.](media/data-manager-configure-map-add-attributes.png "Первичный ключ и тип атрибута")

> [!NOTE]
> Одно поле должно соответствовать семантическому типу Person.FullName для заполнения имени клиента в карточке клиента. В противном случае карточки клиента будут отображаться безымянными. 

## <a name="add-and-remove-attributes-and-entities"></a>Добавление и удаление атрибутов и сущностей

1. В разделе **Объединить** > **Сопоставить** выберите **Редактировать поля**.

2. В области **Редактировать поля** добавьте или удалите атрибуты и сущности. Используйте поиск или прокрутите, чтобы найти и выбрать интересующие вас атрибуты и сущности. Вы не можете удалить атрибут или сущность, если она уже была сопоставлена.

   > [!div class="mx-imgBorder"]
   > ![Добавление или удаление атрибутов.](media/configure-data-map-edit.png "Добавление или удаление атрибутов")

3. Выберите **Применить**.

## <a name="add-images-to-profiles"></a>Добавление изображений в профили

Если сущность содержит URL-адреса общедоступных изображений или логотипов профилей, вы можете добавить их в единый профиль клиента.

Выберите сущность и найдите поле, содержащее URL-адрес изображения профиля. В поле ввода **Тип** введите вручную следующее значение: 
- Для человека: Person.ProfileImage
- Для организации: Organization.LogoImage

Продолжите шаги по объединению и убедитесь, что атрибут, содержащий URL-адрес изображения, также добавлен в шаг [Объединить](merge-entities.md).

## <a name="set-attributes-for-organizations"></a>Задание атрибутов для организаций

Для организаций (предварительная версия) тип атрибута должен быть сопоставлен атрибуту "Organization.Name"
> [!div class="mx-imgBorder"]
> ![Первичный ключ и тип атрибута B-to-B.](media/configure-data-map-edit-b2b.png "Первичный ключ и тип атрибута B-to-B")

## <a name="next-step"></a>Следующий шаг

В рамках процесса объединения данных перейдите на страницу **Соответствие**. Перейдите в раздел [**Соответствие**](match-entities.md), чтобы узнать об этом этапе.

> [!TIP]
> Ознакомьтесь со следующим видео: [Начало работы. Создание единого профиля клиента](https://youtu.be/oBfGEhucAxs).


[!INCLUDE[footer-include](../includes/footer-banner.md)]