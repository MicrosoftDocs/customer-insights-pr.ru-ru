---
title: Руководство по прогнозу рекомендаций продуктов
description: Используйте этот пример руководства, чтобы попробовать готовую модель прогноза рекомендаций продуктов.
ms.date: 05/16/2022
ms.reviewer: mhart
ms.subservice: audience-insights
ms.topic: tutorial
author: m-hartmann
ms.author: wameng
manager: shellyha
searchScope:
- ci-predictions
- ci-create-prediction
- customerInsights
ms.openlocfilehash: cc72cce15fa0c9e92dbf202c803e99514c9ce2b1
ms.sourcegitcommit: 82f417cfb0a16600e9f552d7a21d598cc8f5a267
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 05/16/2022
ms.locfileid: "8762702"
---
# <a name="product-recommendation-prediction-sample-guide"></a>Руководство по прогнозу рекомендаций продуктов

Мы покажем вам комплексный пример прогноза рекомендаций продуктов, используя примеры данных, представленные ниже.

## <a name="scenario"></a>Сценарий

Contoso — компания, производящая кофе и кофемашины высокого качества, которые они продают через свой веб-сайт Contoso Coffee. Их цель — понять, какие продукты они должны рекомендовать своим постоянным клиентам. Знание того, какие клиенты, **скорее всего, совершат покупку**, может помочь им сэкономить маркетинговые ресурсы, сосредоточив внимание на конкретных товарах.

## <a name="prerequisites"></a>Предварительные условия

- По крайней мере [разрешения участника](permissions.md) в Customer Insights.
- Мы рекомендуем вам выполнить следующие шаги [в новой среде](manage-environments.md).

## <a name="task-1---ingest-data"></a>Задача 1. Прием данных

Обзор статей [о приеме данных](data-sources.md) и [импорт источников данных с помощью соединителей Power Query](connect-power-query.md) специально. Следующая информация предполагает, что вы в целом ознакомились с приемом данных.

### <a name="ingest-customer-data-from-ecommerce-platform"></a>Получение данных о клиентах с платформы eCommerce

1. Создайте источник данных с именем **eCommerce**, выберите вариант импорта и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для контактов eCommerce: [https://aka.ms/ciadclasscontacts](https://aka.ms/ciadclasscontacts).

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **DateOfBirth**: дата
   - **CreatedOn**: дата/время/часовой пояс

   :::image type="content" source="media/ecommerce-dob-date.PNG" alt-text="Преобразовать дату рождения в дату.":::

1. В поле "Имя" на правой панели переименуйте свой источник данных с **Query** на **eCommerceContacts**.

1. **Сохраните** источник данных.

### <a name="ingest-online-purchase-data"></a>Получение данных о покупках в Интернете

1. Добавьте другой набор данных к тому же источнику данных **eCommerce**. Снова выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для данных **Интернет-покупки** [https://aka.ms/ciadclassonline](https://aka.ms/ciadclassonline).

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **PurchasedOn**: дата/время
   - **TotalPrice**: валюта

1. В поле **Имя** на боковой панели переименуйте свой источник данных с **Query** на **eCommercePurchases**.

1. **Сохраните** источник данных.

### <a name="ingest-customer-data-from-loyalty-schema"></a>Получение данных о клиентах из схемы лояльности

1. Создайте источник данных с именем **LoyaltyScheme**, выберите вариант импорта и выберите соединитель **Текст/CSV**.

1. Введите URL-адрес для контактов eCommerce [https://aka.ms/ciadclasscustomerloyalty](https://aka.ms/ciadclasscustomerloyalty).

1. При редактировании данных выберите **Преобразовать**, затем **Использовать первую строку в качестве заголовков**.

1. Обновите тип данных для столбцов, перечисленных ниже:
   - **DateOfBirth**: дата
   - **RewardsPoints**: целое число
   - **CreatedOn**: дата/время

1. В поле **Имя** на правой панели переименуйте свой источник данных с **Query** на **loyCustomers**.

1. **Сохраните** источник данных.

## <a name="task-2---data-unification"></a>Задача 2. Унификация данных

[!INCLUDE [sample-guide-unification](includes/sample-guide-unification.md)]

## <a name="task-3---configure-product-recommendation-prediction"></a>Задача 3. Настройка прогноза рекомендаций продуктов

При наличии единых профилей клиентов можно запустить прогноз по рекомендации продукта.

1. Перейдите **Аналитика** > **Прогноз**, выберите **Рекомендация продукта**.

1. Выберите **Приступая к работе**.

1. Назовите модель **Прогноз модели рекомендации продуктов OOB** и сущность выходных данных **OOBProductRecommendationModelPrediction**.

1. Определите три условия для модели:

   - **Количество продуктов**: установите это значение как **5**. Этот параметр определяет, сколько продуктов вы хотите рекомендовать своим клиентам.

   - **Ожидаются повторные покупки**: выберите **Да**, чтобы указать, что вы хотите включить в рекомендацию продукты, которые ваши клиенты покупали ранее.

   - **Окно ретроспективного обзора:** выберите не менее **365 дней**. Этот параметр определяет, как далеко модель будет анализировать действия клиента, чтобы использовать их в качестве исходных данных для своих рекомендаций.

   :::image type="content" source="media/product-recommendation-model-preferences.png" alt-text="Настройки модели для модели рекомендаций по продукту.":::

1. На шаге **Добавить необходимые данные** выберите **Добавить данные**.

1. В области **Добавить данные** выберите **SalesOrderLine** как сущность истории покупок. На данный момент она, возможно, еще не настроена. Откройте ссылку в области, чтобы создать действие, выполнив следующие шаги:
   1. Введите **Название действия** и выберите *eCommercePurchases:eCommerce* в качестве **Сущности действия**. **Основной ключ** — это *PurchaseId*.
   1. Определите и назовите отношение к *сущности eCommerceContacts:eCommerce* и выберите **ContactId** в качестве внешнего ключа.
   1. Для объединения действий установите для параметра **Действие события** значение *TotalPrice*, а для метки времени — *PurchasedOn*. Можно указать больше полей, как описано в разделе [Действия клиентов](activities.md).
   1. Для параметра **Тип действия** выберите *SalesOrderLine*. Сопоставьте следующие поля действий:
      - Идентификатор строки заказа: PurchaseId
      - Идентификатор заказа: PurchaseId
      - Дата заказа: PurchasedOn
      - Код продукта: ProductId
      - Итоговая сумма: TotalPrice
   1. Просмотрите и завершите действие, прежде чем вернуться к настройке модели.

1. Вернувшись к шагу **Выбрать действия**, выберите вновь созданное действие в разделе **Действия**. Нажмите **Далее** и сопоставление атрибутов будет заполнено. Нажмите **Сохранить**.

1. В этом примере руководства мы пропускаем шаги **Добавить сведения о товаре** и **Фильтры товаров**, так как у нас нет данных о товаре.

1. На шаге **Обновление данных** установите расписание модели.

   Модель должна регулярно обучаться, чтобы изучать новые закономерности при поступлении новых данных. В данном примере выберите **Ежемесячно**.

1. Изучив все сведения, выберите **Сохранить и выполнить**. Первый запуск модели займет несколько минут.

## <a name="task-4---review-model-results-and-explanations"></a>Задача 4. Обзор результатов модели и объяснения

Дайте модели завершить обучение и оценку данных. Теперь вы можете просмотреть объяснения модели рекомендаций продуктов. Для получения дополнительной информации см. [Просмотр статуса прогноза и результатов](predict-transactional-churn.md#review-a-prediction-status-and-results).

## <a name="task-5---create-a-segment-of-high-purchased-products"></a>Задача 5. Создание сегмента часто покупаемых товаров

Выполнение производственной модели создает новую сущность, которую вы можете увидеть в **Данные** > **Сущности**.

Вы можете создать новый сегмент на основе сущности, созданной моделью.

1. Перейдите **Сегменты**. Выберите **Создать** и выберите **Создать из аналитики**.

   ![Создание сегмента с выходом модели.](media/segment-intelligence.png)

1. Выберите конечную точку **OOBProductRecommendationModelPrediction** и определите сегмент:

   - Поле: ProductID
   - Значение: выберите три первых кода продукта.

   :::image type="content" source="media/product-recommendation-quick-segment.png" alt-text="Создайте сегмент из результатов модели.":::

Теперь у вас есть сегмент, который динамически обновляется и идентифицирует клиентов, которые могут быть заинтересованы в покупке трех наиболее рекомендуемых продуктов.

Дополнительные сведения см. в разделе [Создание сегментов и управление ими](segments.md).

[!INCLUDE [footer-include](includes/footer-banner.md)]
